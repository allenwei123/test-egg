webpackJsonp([14],{Give:function(t,e){},"bq++":function(t,e){},dxvc:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=[{key:"0",value:"物业"},{key:"1",value:"保安"},{key:"2",value:"保洁"},{key:"3",value:"水电"}],n=[{key:"0",value:"女"},{key:"1",value:"男"}],l={name:"EmplAdd",data:function(){return{formLabelWidth:"120px",titleFont:"添加角色",form:{name:"",phone:"",role:0,male:"男",pwd:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"}]},roleOptions:s,maleOptions:n,current:1}},props:["msg","add"],created:function(){this.add&&(this.form=this.add,this.titleFont="编辑员工")},mounted:function(){},methods:{handleClose:function(){this.$emit("upup",this.current)},save:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.postData()})},postData:function(){var t=this,e=this.add?"编辑":"添加",a=this.add?"/community/edit":"/community/add";this.$xttp.post(a,this.form).then(function(a){0===a.errorCode?(t.$message({message:e+"社区成功",type:"success"}),t.current=2,t.handleClose()):t.$message({message:a.data.errorMsg,type:"error"})}).catch(function(t){console.log(t)})}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.titleFont,visible:t.msg,"before-close":t.handleClose},on:{"update:visible":function(e){t.msg=e}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-form-inline",attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{staticClass:"c-must",attrs:{label:"姓名","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{staticClass:"c-must",attrs:{label:"手机号码","label-width":t.formLabelWidth,prop:"phone"}},[a("el-input",{model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),t._v(" "),a("el-form-item",{staticClass:"c-must",attrs:{label:"角色","label-width":t.formLabelWidth,prop:"role"}},[a("el-radio-group",{model:{value:t.form.role,callback:function(e){t.$set(t.form,"role",e)},expression:"form.role"}},t._l(t.roleOptions,function(t,e){return a("el-radio",{key:e,attrs:{label:t.value}})}))],1),t._v(" "),a("el-form-item",{staticClass:"c-must",attrs:{label:"性别","label-width":t.formLabelWidth,prop:"male"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.male,callback:function(e){t.$set(t.form,"male",e)},expression:"form.male"}},t._l(t.maleOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{staticClass:"c-must",attrs:{label:"设置密码","label-width":t.formLabelWidth,prop:"pwd"}},[a("el-input",{attrs:{type:"password"},model:{value:t.form.pwd,callback:function(e){t.$set(t.form,"pwd",e)},expression:"form.pwd"}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.formLabelWidth}},[a("el-button",{on:{click:t.handleClose}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.save("ruleForm")}}},[t._v("保存")])],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")(l,i,!1,function(t){a("Give")},"data-v-8d34c662",null).exports,r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"社区档案详情",visible:t.msg,"before-close":t.handleClose},on:{"update:visible":function(e){t.msg=e}}},[a("ul",[0==t.data.role?a("li",{staticClass:"c-list"},[a("span",{staticClass:"c-label"},[t._v("当前角色:")]),t._v(" "),a("span",{staticClass:"c-content"},[t._v(" 超级管理员 ")])]):t._e(),t._v(" "),1==t.data.role?a("li",{staticClass:"c-list"},[a("span",{staticClass:"c-label"},[t._v("当前角色:")]),t._v(" "),a("span",{staticClass:"c-content"},[t._v(" 社区管理员 ")])]):t._e(),t._v(" "),2==t.data.role?a("li",{staticClass:"c-list"},[a("span",{staticClass:"c-label"},[t._v("当前角色:")]),t._v(" "),a("span",{staticClass:"c-content"},[t._v(" 小区管理员 ")])]):t._e(),t._v(" "),a("li",{staticClass:"c-list"},[a("span",{staticClass:"c-label"},[t._v("功能职责:")]),t._v(" "),a("span",{staticClass:"c-content"},[t._v(" "+t._s(t.data.duty)+" ")])]),t._v(" "),a("li",{staticClass:"c-list"},[a("span",{staticClass:"c-label"},[t._v("人员数量:")]),t._v(" "),a("span",{staticClass:"c-content"},[t._v(" "+t._s(t.data.num)+" ")])]),t._v(" "),0==t.data.state?a("li",{staticClass:"c-list"},[a("span",{staticClass:"c-label"},[t._v("状态:")]),t._v(" "),a("span",{staticClass:"c-content"},[t._v("正常")])]):t._e(),t._v(" "),1==t.data.state?a("li",{staticClass:"c-list"},[a("span",{staticClass:"c-label"},[t._v("状态:")]),t._v(" "),a("span",{staticClass:"c-content"},[t._v(" 异常 ")])]):t._e(),t._v(" "),0==t.data.usestate?a("li",{staticClass:"c-list"},[a("span",{staticClass:"c-label"},[t._v("使用状态:")]),t._v(" "),a("span",{staticClass:"c-content"},[t._v(" 已禁用 ")])]):t._e(),t._v(" "),1==t.data.usestate?a("li",{staticClass:"c-list"},[a("span",{staticClass:"c-label"},[t._v("使用状态:")]),t._v(" "),a("span",{staticClass:"c-content"},[t._v(" 启动 ")])]):t._e(),t._v(" "),a("li",{staticClass:"c-list"},[a("span",{staticClass:"c-label"},[t._v("创建时间")]),a("span",{staticClass:"c-content"},[t._v(" "+t._s(t.data.time)+" ")])])])])},staticRenderFns:[]};var c=a("VU/8")({name:"EmplSee",data:function(){return{arr:[1,2,4,5]}},props:["msg","data"],created:function(){},methods:{handleClose:function(){this.$emit("upsee",!1)}}},r,!1,function(t){a("veaU")},"data-v-108c1d3c",null).exports,u=a("NYxO"),d={name:"role",data:function(){return{isSou:!1,tableData:[],navDetailData:[{id:0,name:"首页"},{id:1,name:"员工管理"},{id:2,name:"角色管理"}],formInline:{role:""},currentPage:1,loading:!1,isShow:!1,total:0,notice:null,see:!1,seeData:null,visible2:!1,delData:null}},computed:Object(u.b)(["showAside"]),components:{AddPage:o,SeePage:c},methods:{onSubmit:function(){this.notice=null,this.isShow=!this.isShow},handleCurrentChange:function(t){},handleClick:function(t){this.see=!0,this.seeData=t},editHandle:function(t){this.isShow=!0,this.notice=t},change:function(t){1==t?this.isShow=!1:2!=t&&3!=t||(this.isShow=!1)},seeChange:function(t){this.see=!1},find:function(){this.sendAjax(null,this.formInline.name)},delHandle:function(t){this.visible2=!0,this.delData=t},handleDiabled:function(t,e){this.$message({message:"禁用成功",type:"success"}),t.usestate=e},handleAbled:function(t,e){this.$message({message:"启用成功",type:"success"}),t.usestate=e},maleFilter:function(t,e){var a=t[e.property];return"0"==a?"女":"1"==a?"男":void 0},roleFilter:function(t,e){var a=t[e.property];return 0==a?"超级管理员":1==a?"社区管理员":2==a?"物业管理员":void 0},usestateFilter:function(t,e){var a=t[e.property];return 0==a?"禁用":1==a?"正常":void 0},stateFilter:function(t,e){var a=t[e.property];return 0==a?"正常":1==a?"异常":void 0},getRole:function(){var t=this,e=this.$store.getters.communityId;this.$xttp.get("/user/property/"+e+"/post-list").then(function(e){e.success&&(t.tableData=e.data,t.total=e.data.length)})},confirmDel:function(){var t=this;this.delData.id&&this.$xttp.get("/community/"+this.delData.id+"/delete").then(function(e){e.errorCode||(t.visible2=!1,t.delData=null,t.$message({message:e.data,type:"success"}),t.find())})},sendAjax:function(t,e){var a=this,s=t||this.$route.query.page||1,n={page:s};e?n.name=this.formInline.name:delete n.name,this.loading=!0,this.$xttp.get("/community/page",{params:n}).then(function(t){t.success&&(a.tableData=t.data.records,a.currentPage=t.data.currentPage,a.$router.push({path:a.$route.path,query:{page:s}})),a.loading=!1}).catch(function(t){a.loading=!1})}},created:function(){this.getRole()},mounted:function(){}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-main",[a("div",[a("ul",{staticClass:"c-navDetail clear"},t._l(t.navDetailData,function(e,s){return a("li",{key:s},[t._v(t._s(e.name)+" "),s!==t.navDetailData.length-1?a("span",[t._v(" > ")]):t._e()])}))]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticClass:"c-table",staticStyle:{width:"100%"},attrs:{data:t.tableData,"element-loading-text":"加载中...","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center","min-width":"25%"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"角色",align:"center","min-width":"75%"}}),t._v(" "),t.isShow?a("el-table-column",{attrs:{align:"center",label:"操作",width:"700"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.handleClick(e.row)}}},[t._v("查看权限")])]}}])}):t._e()],1),t._v(" "),a("div",{staticClass:"c-block"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":10,layout:"total, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),a("transition",{attrs:{name:"fade1"}},[t.isShow?a("AddPage",{attrs:{msg:t.isShow,add:t.notice},on:{upup:t.change,"update:add":function(e){t.notice=e}}}):t._e()],1),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.see?a("SeePage",{attrs:{msg:t.see,data:t.seeData},on:{upsee:t.seeChange}}):t._e()],1),t._v(" "),a("el-dialog",{attrs:{title:"温馨提示",visible:t.visible2},on:{"update:visible":function(e){t.visible2=e}}},[a("p",[t._v("请问您是否确定删除这条数据吗？")]),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.visible2=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.confirmDel}},[t._v("确定")])],1)])],1)},staticRenderFns:[]};var p=a("VU/8")(d,m,!1,function(t){a("bq++")},"data-v-80e41910",null);e.default=p.exports},veaU:function(t,e){}});
//# sourceMappingURL=14.603a60f3364bb37475e0.js.map
{"version":3,"sources":["webpack:///src/page/home/nav/communityIoT/door/add.vue","webpack:///./src/page/home/nav/communityIoT/door/add.vue?3f43","webpack:///./src/page/home/nav/communityIoT/door/add.vue","webpack:///src/page/home/nav/communityIoT/door/list.vue","webpack:///./src/page/home/nav/communityIoT/door/list.vue?93f4","webpack:///./src/page/home/nav/communityIoT/door/list.vue"],"names":["communityId","_this","this","postData","format","then","res","data","_this3","$xttp","post","form","handleClose","catch","err","getFloorList","door_add","render","_vm","_h","$createElement","_c","_self","attrs","title","visible","msg","before-close","on","update:visible","$event","ref","model","rules","label-width","label","prop","required","auto-complete","value","callback","$$v","$set","expression","_v","placeholder","clearable","_l","item","key","id","name","staticClass","slot","click","type","submitForm","staticRenderFns","AddPage","__webpack_require__","normalizeComponent","add","ssrContext","communityName","input","query","_this2","pageSize","q_input","records","total","door_list","nav","index","_s","navDetailData","length","_e","inline","change","changeStatus","value1","value2","value3","trim","staticStyle","float","directives","rawName","width","tableData","stripe","border","show-overflow-tooltip","align","scopedSlots","_u","fn","scope","currentPage","$index","row","buildingName","brand","deviceType","deviceCode","onlineStatus","fixed","size","view","layout","page-size","current-page","current-change","getTableList","update:currentPage","show","addChange","addSuccess","list_Component","list_normalizeComponent","list","__webpack_exports__"],"mappings":"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","file":"static/js/24.62171882a4826c945dc9.js","sourcesContent":["<template>\r\n  <el-dialog title=\"新增门禁\" :visible.sync=\"msg\" :before-close=\"handleClose\">\r\n    <el-form :model=\"form\" :rules=\"rules\" ref=\"ruleForm\"   label-width=\"120px\">\r\n      <el-form-item label=\"门禁\" prop=\"name\" required>\r\n        <el-input v-model=\"form.name\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"所属楼栋\" prop=\"buildingId\" label-width=\"120px\" required>\r\n        <el-select v-model=\"form.buildingId\" placeholder=\"全部楼栋\" clearable>\r\n          <el-option v-for=\"item in options3\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <!-- 暂无 -->\r\n      <el-form-item label=\"厂商\" prop=\"brandNo\" label-width=\"120px\" required>\r\n        <el-select v-model=\"form.brandNo\" placeholder=\"品牌\" clearable>\r\n          <el-option v-for=\"item in options\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <!-- 暂无 -->\r\n      <el-form-item label=\"型号\" prop=\"deviceType\" label-width=\"120px\" required>\r\n        <el-input v-model=\"form.deviceType\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <!-- 暂无 -->\r\n      <el-form-item label=\"设备编号\" prop=\"deviceCode\" label-width=\"120px\" required>\r\n        <el-input v-model=\"form.deviceCode\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"handleClose\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">确 定</el-button>\r\n    </div>    \r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport time from \"@/utils/time.js\";\r\n    export default {\r\n        data() {\r\n            return {\r\n                form: {\r\n                  name: \"\",\r\n                  buildingId: '',\r\n                  brand: \"\",\r\n                  deviceType: '',\r\n                  deviceId: '',\r\n                  communityId: this.$store.getters.communityId,\r\n                },\r\n                rules: {\r\n                  name: [{required: true, message: '请输入门禁', trigger: 'blur'}],\r\n                  buildingId: [{ required: true, message: '请选择楼栋', trigger: 'blur' }],\r\n                  brandNo: [{ required: true, message: '请输入厂商', trigger: 'blur' }],\r\n                  deviceType: [{ required: true, message: '请输入型号', trigger: 'blur' }],\r\n                  deviceCode: [{ required: true, message: '请输入设备编号', trigger: 'blur' }],\r\n                },\r\n                data: {},\r\n                value: '',\r\n                makeAt: '',\r\n                options3: [],\r\n                options: [{\r\n                  id:1,\r\n                  name:'米立'\r\n                },{\r\n                  id:2,\r\n                  name:'康途'\r\n                },{\r\n                  id:3,\r\n                  name:'金博'\r\n                }],\r\n            }\r\n        },\r\n        methods: {\r\n            handleClose() {\r\n                this.$emit('change');\r\n            },\r\n            submitForm(formName) {\r\n                this.$refs[formName].validate((valid) => {\r\n                    if (valid) {\r\n                      this.postData();\r\n                    } else {\r\n                      return false;\r\n                    }\r\n                });\r\n            },\r\n            getTime(timestamp, format) {\r\n                if (timestamp == null) return \"/\";\r\n                return time.timestampToFormat(timestamp, format);\r\n            },\r\n            getFloorList() {//获取社区对应的楼栋\r\n                this.$xttp.get('community/building/list',{params:{communityId:this.communityId}})\r\n                  .then(res => {\r\n                    if(!res.errorCode) {\r\n                      this.options3 = res.data;\r\n                    }\r\n                })\r\n            },\r\n            postData() {\r\n              let url = `communityIoT/door/add`;\r\n              this.$xttp\r\n                .post(url, this.form)\r\n                .then(res => {\r\n                  if (res.errorCode === 0) {\r\n                    this.$message({\r\n                      message: \"新增成功\",\r\n                      type: \"success\"\r\n                    });\r\n                    this.handleClose();\r\n                    this.$emit('addSuccess');\r\n                  }else {\r\n                    this.$message({message:res.data.errorMsg,type:'error'});\r\n                  }\r\n                })\r\n                .catch(err => {\r\n                  console.log(err);\r\n                });\r\n            }\r\n\r\n        },\r\n        created() {\r\n          this.getFloorList();\r\n            // console.log(this.data);\r\n            // this.makeAt = this.getTime(this.data.makeAt, 'yyyy-MM-dd HH:mm');\r\n        },\r\n        props: ['msg'],\r\n    }\r\n    \r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/home/nav/communityIoT/door/add.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"新增门禁\",\"visible\":_vm.msg,\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.msg=$event}}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"门禁\",\"prop\":\"name\",\"required\":\"\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"所属楼栋\",\"prop\":\"buildingId\",\"label-width\":\"120px\",\"required\":\"\"}},[_c('el-select',{attrs:{\"placeholder\":\"全部楼栋\",\"clearable\":\"\"},model:{value:(_vm.form.buildingId),callback:function ($$v) {_vm.$set(_vm.form, \"buildingId\", $$v)},expression:\"form.buildingId\"}},_vm._l((_vm.options3),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"厂商\",\"prop\":\"brandNo\",\"label-width\":\"120px\",\"required\":\"\"}},[_c('el-select',{attrs:{\"placeholder\":\"品牌\",\"clearable\":\"\"},model:{value:(_vm.form.brandNo),callback:function ($$v) {_vm.$set(_vm.form, \"brandNo\", $$v)},expression:\"form.brandNo\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"型号\",\"prop\":\"deviceType\",\"label-width\":\"120px\",\"required\":\"\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.form.deviceType),callback:function ($$v) {_vm.$set(_vm.form, \"deviceType\", $$v)},expression:\"form.deviceType\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"设备编号\",\"prop\":\"deviceCode\",\"label-width\":\"120px\",\"required\":\"\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.form.deviceCode),callback:function ($$v) {_vm.$set(_vm.form, \"deviceCode\", $$v)},expression:\"form.deviceCode\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.handleClose}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('ruleForm')}}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-33482c75\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/home/nav/communityIoT/door/add.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-33482c75\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./add.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-33482c75\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-33482c75\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/home/nav/communityIoT/door/add.vue\n// module id = null\n// module chunks = ","<template>\r\n  <el-container>\r\n    <el-main>\r\n      <ul class=\"c-navDetail clear\">\r\n        <li v-for=\"(nav, index) in navDetailData\" :key=\"index\">{{ nav.name }} <span v-if=\"index !== navDetailData.length -  1\"> > </span></li>\r\n      </ul>\r\n      <div class=\"c-rpass-container\">\r\n        <div class=\"c-search\">\r\n          <el-form :inline=\"true\" class=\"demo-form-inline\">\r\n            <el-select v-model=\"value1\" placeholder=\"品牌\" clearable  @change=\"changeStatus\">\r\n              <el-option v-for=\"item in options\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n            </el-select>\r\n            <el-select v-model=\"value2\" placeholder=\"型号\" clearable  @change=\"changeStatus\">\r\n              <el-option v-for=\"item in options2\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n            </el-select>\r\n            <el-select v-model=\"value3\" placeholder=\"全部楼栋\" clearable  @change=\"changeStatus\">\r\n              <el-option v-for=\"item in options3\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n            </el-select>\r\n            <el-form-item label=\"\">\r\n              <el-input placeholder=\"门禁\" v-model.trim=\"input\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"query\">查询</el-button>\r\n            </el-form-item>\r\n            <el-form-item style=\"float: right\">\r\n              <el-button type=\"primary\" class=\"c-addBtn\" @click=\"add\">新增门禁</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n        <div class=\"c-list\">\r\n          <el-table :data=\"tableData\" style=\"width: 100%\" v-loading=\"loading\" stripe border>\r\n            <el-table-column label=\"序号\" width=\"80\" :show-overflow-tooltip=\"true\" align=\"center\">\r\n              <template slot-scope=\"scope\">{{(currentPage-1) * pageSize + scope.$index + 1}}</template>\r\n            </el-table-column>\r\n            <el-table-column label=\"门禁\" :show-overflow-tooltip=\"true\" align=\"center\">\r\n              <template slot-scope=\"scope\">{{scope.row.name}}</template>\r\n            </el-table-column>\r\n             <el-table-column label=\"楼栋名称\" :show-overflow-tooltip=\"true\" align=\"center\">\r\n              <template slot-scope=\"scope\">{{scope.row.buildingName}}</template>\r\n            </el-table-column>\r\n            <el-table-column label=\"厂商\" :show-overflow-tooltip=\"true\" align=\"center\">\r\n              <template slot-scope=\"scope\">{{ scope.row.brand }}</template>\r\n            </el-table-column>\r\n            <el-table-column label=\"型号\" :show-overflow-tooltip=\"true\" align=\"center\">\r\n              <template slot-scope=\"scope\">{{ scope.row.deviceType }}</template>\r\n            </el-table-column>\r\n            <el-table-column label=\"设备编号\" :show-overflow-tooltip=\"true\" align=\"center\">\r\n              <template slot-scope=\"scope\">{{ scope.row.deviceCode }}</template>\r\n            </el-table-column>\r\n            <el-table-column label=\"运行状态\" :show-overflow-tooltip=\"true\" align=\"center\">\r\n              <template slot-scope=\"scope\">{{ onlineStatus(scope.row.onlineStatus) }}</template>\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\" width=\"120\" fixed=\"right\" align=\"left\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button type=\"primary\" size=\"mini\" @click=\"view(scope.row)\">使用记录</el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n        <div class=\"c-pagination\">\r\n          <el-pagination\r\n            layout=\"total, prev, pager, next, jumper\" @current-change=\"getTableList\"\r\n            :total=\"total\" :page-size=\"pageSize\" :current-page.sync=\"currentPage\">\r\n          </el-pagination>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 新增门禁 -->\r\n      <transition name=\"fade\">\r\n        <AddPage v-if=\"show\" :msg=\"show\" @change=addChange @addSuccess=\"query\"></AddPage>\r\n      </transition>\r\n\r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n<script>\r\nimport AddPage from \"./add\";\r\n  export default {\r\n    components: {\r\n      AddPage\r\n    },\r\n    data() {\r\n      return {\r\n        show: false,\r\n        loading: false,\r\n        communityName: this.$store.getters.communityName,\r\n        communityId:this.$store.getters.communityId,\r\n        tableData: [],\r\n        pageSize: 10,\r\n        total: 0,\r\n        currentPage: 1,\r\n        input: '',\r\n        q_input: null,\r\n        //电梯品牌\r\n        value1: '',\r\n        options: [{\r\n          id:1,\r\n          name:'米立'\r\n        },{\r\n          id:2,\r\n          name:'康途'\r\n        },{\r\n          id:3,\r\n          name:'金博'\r\n        }],\r\n        //型号\r\n        value2: '',\r\n        options2: [],\r\n       navDetailData: [\r\n          { id: 0, name: \"社区物联\" },\r\n          { id: 1, name: \"门禁管理\" },\r\n          { id: 2, name: \"门禁档案\" }\r\n        ],\r\n        options3: [],\r\n        value3:'',\r\n      }\r\n    },\r\n    methods: {\r\n      query() {\r\n        this.q_input = this.input;\r\n        if (this.currentPage !== 1) {\r\n          this.currentPage = 1;\r\n        }\r\n        else {\r\n          this.getTableList(1);\r\n        }\r\n      },\r\n      getFloorList() {//获取社区对应的楼栋\r\n        this.$xttp.get('community/building/list',{params:{communityId:this.communityId}})\r\n          .then(res => {\r\n            if(!res.errorCode) {\r\n              this.options3 = res.data;\r\n            }\r\n          })\r\n      },\r\n      changeStatus() {\r\n        this.query();\r\n      },\r\n      add() {\r\n        this.show = true;\r\n      },\r\n      addChange() {\r\n        this.show = false;\r\n      },\r\n      getTableList(pages) {\r\n        this.loading = true;\r\n        let url = `communityIoT/record/door/list?page=${pages}&size=${this.pageSize}`;\r\n        let params = {};\r\n        params['communityId'] = this.communityId;\r\n        if(this.value1) {\r\n          params['brandNo'] = this.value1;//品牌查询\r\n        }\r\n        if(this.value2){\r\n          params['elevatorId'] = this.value2;//电梯编号\r\n        }\r\n        if(this.value3) {\r\n          params['buildingId'] = this.value3;//楼栋查询\r\n        }\r\n        if (this.q_input) {\r\n          params['name'] = this.q_input;\r\n        }\r\n        this.$xttp.post(url, params).then(res => {\r\n          this.loading = false;\r\n          if (res.errorCode === 0) {\r\n            this.tableData = res.data.records;\r\n            this.total = res.data.total;\r\n          }\r\n        }).catch(() => {\r\n          this.loading = false;\r\n        })\r\n      },\r\n      onlineStatus(value){\r\n        if(value) {\r\n          return value== 1? '离线' : '在线'\r\n        }\r\n      },\r\n      view(item) {\r\n        console.log(item);\r\n        this.$router.push({\r\n          path: '/home/nav/communityIoT/doorRecord',\r\n          query: {\r\n            deviceId: item.deviceId || '' // deviceId = item.id\r\n          }\r\n        });\r\n      }\r\n    },\r\n    created() {\r\n      this.query();\r\n      this.getFloorList();\r\n    }\r\n  }\r\n</script>\r\n<style scoped lang=\"scss\">\r\n  .c-navDetail {\r\n    margin-bottom: 10px;\r\n    li {\r\n      float: left;\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n\r\n  .c-body {\r\n    width: 90%;\r\n    &.c-maxWidth {\r\n      max-width: calc(100vw - 200px);\r\n    }\r\n  }\r\n\r\n  .c-search {\r\n    position: relative;\r\n    width: 100%;\r\n    .c-addBtn {\r\n      position: absolute;\r\n      right: 0px;\r\n      top: 0px;\r\n    }\r\n  }\r\n\r\n  .fade-enter-active, .fade-leave-active {\r\n        transition: all 0.5s ease;\r\n    }\r\n\r\n    .fade-enter, .fade-leave-active {\r\n      opacity: 0;\r\n      transform: rotateY(180deg);\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/home/nav/communityIoT/door/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('el-main',[_c('ul',{staticClass:\"c-navDetail clear\"},_vm._l((_vm.navDetailData),function(nav,index){return _c('li',{key:index},[_vm._v(_vm._s(nav.name)+\" \"),(index !== _vm.navDetailData.length -  1)?_c('span',[_vm._v(\" > \")]):_vm._e()])})),_vm._v(\" \"),_c('div',{staticClass:\"c-rpass-container\"},[_c('div',{staticClass:\"c-search\"},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true}},[_c('el-select',{attrs:{\"placeholder\":\"品牌\",\"clearable\":\"\"},on:{\"change\":_vm.changeStatus},model:{value:(_vm.value1),callback:function ($$v) {_vm.value1=$$v},expression:\"value1\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})})),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"型号\",\"clearable\":\"\"},on:{\"change\":_vm.changeStatus},model:{value:(_vm.value2),callback:function ($$v) {_vm.value2=$$v},expression:\"value2\"}},_vm._l((_vm.options2),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})})),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"全部楼栋\",\"clearable\":\"\"},on:{\"change\":_vm.changeStatus},model:{value:(_vm.value3),callback:function ($$v) {_vm.value3=$$v},expression:\"value3\"}},_vm._l((_vm.options3),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})})),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":\"门禁\"},model:{value:(_vm.input),callback:function ($$v) {_vm.input=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"input\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.query}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"float\":\"right\"}},[_c('el-button',{staticClass:\"c-addBtn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"新增门禁\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"c-list\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"stripe\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"width\":\"80\",\"show-overflow-tooltip\":true,\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s((_vm.currentPage-1) * _vm.pageSize + scope.$index + 1))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"门禁\",\"show-overflow-tooltip\":true,\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.name))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"楼栋名称\",\"show-overflow-tooltip\":true,\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.buildingName))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"厂商\",\"show-overflow-tooltip\":true,\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.brand))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"型号\",\"show-overflow-tooltip\":true,\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.deviceType))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"设备编号\",\"show-overflow-tooltip\":true,\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.deviceCode))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"运行状态\",\"show-overflow-tooltip\":true,\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm.onlineStatus(scope.row.onlineStatus)))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"120\",\"fixed\":\"right\",\"align\":\"left\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.view(scope.row)}}},[_vm._v(\"使用记录\")])]}}])})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"c-pagination\"},[_c('el-pagination',{attrs:{\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.total,\"page-size\":_vm.pageSize,\"current-page\":_vm.currentPage},on:{\"current-change\":_vm.getTableList,\"update:currentPage\":function($event){_vm.currentPage=$event}}})],1)]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.show)?_c('AddPage',{attrs:{\"msg\":_vm.show},on:{\"change\":_vm.addChange,\"addSuccess\":_vm.query}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6c3c932c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/home/nav/communityIoT/door/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6c3c932c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6c3c932c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6c3c932c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/home/nav/communityIoT/door/list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
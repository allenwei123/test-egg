webpackJsonp([49],{"2hfY":function(e,n,t){"use strict";function o(e,n){var t=n,o={"M+":e.getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"h+":e.getHours()<=12?e.getHours():e.getHours()-12,"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),"S+":e.getMilliseconds()};for(var i in/(y+)/i.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?o[i]:("00"+o[i]).substr((""+o[i]).length)));return t}var i={timestampToTime:function(e){var n=new Date;return n.setTime(e),n},dateFormat:function(e,n){return o(e,n)},timestampToFormat:function(e,n){var t=new Date;return t.setTime(e),o(t,n)}};n.a=i},IcnI:function(e,n,t){"use strict";var o=t("7+uW"),i=t("NYxO"),a=t("zL8q"),r=t.n(a),c=(t("tvR6"),t("mvHQ")),u=t.n(c),l={state:{userInfo:localStorage.userInfo?JSON.parse(localStorage.userInfo):null},mutations:{CHANGE_Token:function(e,n){e.userInfo=n}},actions:{changeToken:function(e,n){var t=e.commit;n?localStorage.setItem("userInfo",u()(n)):localStorage.removeItem("userInfo"),t("CHANGE_Token",n)}}},s=t("//Fk"),h=t.n(s),p=[{id:"1",name:"物业管理",show:1,group:[{id:"1-1",name:"基础管理",show:1,menuItem:[{id:"1-1-2",title:"楼栋档案",link:"/home/nav/side/floorFile",show:1},{id:"1-1-3",title:"房间档案",link:"/home/nav/side/roomFile",show:1},{id:"1-1-4",title:"住户档案",link:"/home/nav/side/userFile",show:1},{id:"1-1-5",title:"住户认证",link:"/home/nav/side/promiseFile",show:1},{id:"1-1-6",title:"车辆认证",link:"/home/nav/side/carFile",show:1},{id:"1-1-7",title:"车库档案",link:"/home/nav/side/carport",show:1},{id:"1-5-1",title:"轮播图管理",link:"/home/nav/side/slideshow",show:1}]},{id:"1-2",name:"员工管理",show:1,menuItem:[{id:"1-2-1",title:"角色管理",link:"/home/nav/side/role",show:1},{id:"1-2-2",title:"员工管理",link:"/home/nav/side/empl",show:1}]},{id:"1-3",name:"工作管理",show:1,menuItem:[{id:"1-3-1",title:"班次管理",link:"/home/nav/side/class",show:1},{id:"1-3-2",title:"排班管理",link:"/home/nav/side/schedul",show:1},{id:"1-3-3",title:"保安考勤",link:"/home/nav/side/security",show:1},{id:"1-3-3",title:"保洁考勤",link:"/home/nav/side/cleaner",show:1}]},{id:"1-4",name:"收费管理",show:1,menuItem:[{id:"1-4-1",title:"账单管理",link:"/home/nav/side/bill",show:1},{id:"1-4-1",title:"收费管理",link:"/home/nav/side/charge",show:1}]}]},{id:"2",name:"物业服务",show:1,group:[{id:"2-1",name:"社区服务",show:1,menuItem:[{id:"2-1-1",title:"放行条",link:"/home/nav/propertyService/rpass",show:1},{id:"2-1-2",title:"警报记录",link:"/home/nav/propertyService/alarm",show:1},{id:"2-1-3",title:"在线服务",link:"/home/nav/propertyService/onlineService",show:1}]},{id:"2-2",name:"投诉报事",show:1,menuItem:[{id:"2-2-1",title:"住户投诉",link:"/home/nav/propertyService/complaint",show:1}]},{id:"2-3",name:"故障报修",show:1,menuItem:[{id:"2-3-1",title:"故障管理",link:"/home/nav/propertyService/fault",show:1}]},{id:"2-4",name:"社区动态",show:1,menuItem:[{id:"2-4-1",title:"动态消息",link:"/home/nav/propertyService/message",show:1}]},{id:"2-5",name:"消息管理",show:1,menuItem:[{id:"2-5-1",title:"社区公告",link:"/home/nav/propertyService/notice",show:1}]}]},{id:"3",name:"社区物联",show:1,group:[{id:"3-1",name:"电梯管理",show:1,menuItem:[{id:"3-1-1",title:"电梯档案",link:"/home/nav/communityIoT/elevator",show:1},{id:"3-1-2",title:"维修记录",link:"/home/nav/communityIoT/record",show:1}]},{id:"3-2",name:"门禁管理",show:1,menuItem:[{id:"3-2-1",title:"门禁档案",link:"/home/nav/communityIoT/door",show:1}]},{id:"3-3",name:"监控管理",show:1,menuItem:[{id:"3-3-1",title:"监控档案",link:"/home/nav/communityIoT/monitoringD",show:1},{id:"3-3-2",title:"实时监控",link:"/home/nav/communityIoT/monitoringC",show:1}]},{id:"3-4",name:"停车管理",show:1,menuItem:[{id:"3-4-1",title:"停车设备",link:"/home/nav/communityIoT/parkinglotDevice",show:1}]},{id:"3-5",name:"一卡通管理",show:1,menuItem:[{id:"3-5-1",title:"一卡通档案",link:"/home/nav/communityIoT/onePass",show:1}]}]},{id:"4",name:"商圈管理",show:1,group:[{id:"4-1",name:"周边商圈",show:1,menuItem:[{id:"4-1-1",title:"商家管理",show:1,link:"/home/nav/businessManage/merchant"},{id:"4-1-2",title:"轮播图管理",show:1,link:"/home/nav/businessManage/slideShow"}]},{id:"4-2",name:"便民服务",show:1,menuItem:[{id:"4-2-1",title:"便民服务",show:1,link:"/home/nav/businessManage/amenity"}]}]},{id:"5",name:"数据统计",show:1,group:[{id:"5-1",name:"统计信息",show:1,menuItem:[{id:"5-1-1",title:"基础信息统计",show:1,link:"/home/nav/summary/baseInfo"}]}]}],m=t("vLgD");var d={state:{asideData:p[0].group,allAside:[],communityId:localStorage.communityId,communityList:localStorage.communityList?JSON.parse(localStorage.communityList):null,navIndex:0},mutations:{CHANGE_ASIDEDATA:function(e,n){e.asideData=n},ADDCOMMUNITYID:function(e,n){e.communityId=n},CGCOMMUNITYLIST:function(e,n){e.communityList=n},UPDATEDASIDEDATA:function(e,n){e.allAside=n,e.asideData=n?n[0].group:[]},NAVINDEX:function(e,n){e.navIndex=n}},actions:{changeAsideData:function(e,n){var t=e.commit,o=e.state;n>0&&o.allAside.length&&t("CHANGE_ASIDEDATA",o.allAside[n-1].group)},addCommunityId:function(e,n){var t=e.commit;n?localStorage.setItem("communityId",n):localStorage.removeItem("communityId"),t("ADDCOMMUNITYID",n)},cgCommunityList:function(e,n){var t=e.commit;n?localStorage.setItem("communityList",u()(n)):localStorage.removeItem("communityList"),t("CGCOMMUNITYLIST",n)},updatedAsideData:function(e){var n=e.commit,t=e.state;return new h.a(function(e,o){m.a.get("/sys/menu/"+t.communityId+"/getByOuterKey").then(function(o){var i=o.data?function(){var e=arguments[0],n=arguments[1],t=0;return e.length&&e.forEach(function(e){e.group.forEach(function(e){e.menuItem.forEach(function(e){"1"!=n[t]&&"0"!=n[t]||(e.show=n[t],t++)})})}),e}(p,o.data.spread.split("")):null;n("UPDATEDASIDEDATA",i),0!==t.navIndex&&n("CHANGE_ASIDEDATA",t.allAside[t.navIndex-1].group),e({msg:"success"})}).catch(function(e){o(e)})})},updatedNavIndex:function(e,n){var t=e.commit;e.state;t("NAVINDEX",n)}}};o.default.use(r.a),o.default.use(i.a);n.a=new i.a.Store({modules:{permission:l,tool:{state:{isShow:!0},mutations:{CHANGE_ASIDE:function(e,n){e.isShow=n}},actions:{change_aside:function(e,n){(0,e.commit)("CHANGE_ASIDE",n)}}},data:d},getters:{token:function(e){return e.permission.userInfo?e.permission.userInfo.token:null},uid:function(e){return e.permission.userInfo?e.permission.userInfo.id:null},userInfo:function(e){return e.permission.userInfo.id},showAside:function(e){return e.tool.isShow},asideData:function(e){return e.data.asideData},communityId:function(e){return e.data.communityId},communityName:function(e){var n=e.data.communityList.find(function(n){return n.id===e.data.communityId});return n?n.name:""},communityList:function(e){return e.data.communityList},navIndex:function(e){return e.data.navIndex}}})},NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("7+uW"),i=t("2hfY");o.default.filter("time",function(e,n){if(!e)return"";var t=n||"yyyy-MM-dd HH:mm:ss",o=new Date;return o.setTime(e),i.a.dateFormat(o,t)}),o.default.filter("relationship",function(e){if(!e)return"";var n="";switch(e){case 1:n="业主";break;case 2:n="家属";break;case 3:n="租客"}return n}),o.default.filter("politicsStatus",function(e){if(!e)return"";var n="";switch(e){case 1:n="群众";break;case 2:n="中共党员(预备党员)";break;case 3:n="共青团员";break;case 4:n="民主党派";break;case 0:n="其他"}return n}),o.default.filter("sex",function(e){if(!e)return"未知";var n="";switch(e){case 0:n="未知";break;case 1:n="男";break;case 2:n="女";break;default:n="未知"}return n}),o.default.filter("auditStatus",function(e){if(!e)return"";var n="";switch(e){case 0:n="未审核";break;case 1:n="已审核";break;case-1:n="未通过";break;case 3:n="已解绑"}return n}),o.default.filter("postCode",function(e){if(!e)return"";var n="";switch(e){case"MANAGER":n="物业管理员";break;case"SECURITY":n="保安";break;case"CLEANER":n="保洁";break;case"SERVICEMAN":n="维修工";break;case"SUPPORTSTAFF":n="客服人员";break;case"CM_ADMIN":n="后台管理员"}return n}),o.default.filter("dataStatus",function(e){if(!e)return"";var n="";switch(e){case 1:n="有效";break;case 0:n="无效"}return n}),o.default.filter("serviceType",function(e){if(!e)return"";var n="";switch(e){case 1:n="本地商店";break;case 2:n="外来链接"}return n}),o.default.filter("serviceWay",function(e){if(!e)return"";var n="";switch(e){case 1:n="热线服务";break;case 2:n="在线服务"}return n}),o.default.filter("digitUppercase",function(e){var n=void 0,t=["角","分"],o=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],i=[["元","万","亿"],["","拾","佰","仟"]],a=e<0?"欠":"";e=Math.abs(e);var r="";for(n=0;n<t.length;n++)r+=(o[Math.floor(10*e*Math.pow(10,n))%10]+t[n]).replace(/零./,"");for(r=r||"整",e=Math.floor(e),n=0;n<i[0].length&&e>0;n++){for(var c="",u=0;u<i[1].length&&e>0;u++)c=o[e%10]+i[1][u]+c,e=Math.floor(e/10);r=c.replace(/(零.)*零$/,"").replace(/^$/,"零")+i[0][n]+r}return a+r.replace(/(零.)*零元/,"元").replace(/(零.)+/g,"零").replace(/^整$/,"零元整")}),o.default.filter("card",function(e){if(!e)return"";var n="";switch(e){case 1:n="手机蓝牙";break;case 2:n="蓝牙卡";break;case 4:n="IC卡";break;case 8:n="临时通行"}return n}),o.default.filter("relationship",function(e){if(!e)return"";var n="";switch(e){case 1:n="业主";break;case 2:n="家属";break;case 3:n="租客"}return n}),o.default.filter("validStatus",function(e){var n="";switch(e){case 0:n="无效";break;case 1:n="有效"}return n});var a={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var r=t("VU/8")({name:"App"},a,!1,function(e){t("WzlS")},null,null).exports,c=t("/ocq"),u=t("IcnI");o.default.use(c.a);var l=new c.a({routes:[{path:"/",redirect:"/home"},{path:"/auth/login",name:"login",component:function(e){return t.e(41).then(function(){var n=[t("gity")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"/auth/logout",component:function(e){return t.e(47).then(function(){var n=[t("v2a1")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"/home",redirect:"/home/nav",component:r,children:[{path:"nav",redirect:"/home/nav/main",component:function(e){return t.e(7).then(function(){var n=[t("sdxd")];e.apply(null,n)}.bind(this)).catch(t.oe)},children:[{path:"side",redirect:"/home/nav/side/floorFile",component:function(e){return t.e(1).then(function(){var n=[t("SgCr")];e.apply(null,n)}.bind(this)).catch(t.oe)},children:[{path:"test",component:function(e){return Promise.all([t.e(0),t.e(38)]).then(function(){var n=[t("zEsh")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"content",component:function(e){return Promise.all([t.e(0),t.e(20)]).then(function(){var n=[t("NrFg")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"floorFile",component:function(e){return Promise.all([t.e(0),t.e(15)]).then(function(){var n=[t("3VVr")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"roomFile",component:function(e){return Promise.all([t.e(0),t.e(10)]).then(function(){var n=[t("r/j9")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"promiseFile",component:function(e){return Promise.all([t.e(0),t.e(27)]).then(function(){var n=[t("T1TW")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"carFile",component:function(e){return Promise.all([t.e(0),t.e(11)]).then(function(){var n=[t("iZok")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"carport",component:function(e){return t.e(26).then(function(){var n=[t("flTl")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"charge",component:function(e){return t.e(9).then(function(){var n=[t("ETRs")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"userFile",component:function(e){return t.e(25).then(function(){var n=[t("QQbO")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"role",component:function(e){return t.e(14).then(function(){var n=[t("dxvc")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"empl",component:function(e){return t.e(6).then(function(){var n=[t("eLUi")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"schedul",component:function(e){return t.e(8).then(function(){var n=[t("0n6b")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"class",component:function(e){return t.e(12).then(function(){var n=[t("5nZn")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"security",component:function(e){return Promise.all([t.e(0),t.e(42)]).then(function(){var n=[t("f4GG")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"cleaner",component:function(e){return Promise.all([t.e(0),t.e(32)]).then(function(){var n=[t("KLso")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"checkIn",component:function(e){return Promise.all([t.e(0),t.e(46)]).then(function(){var n=[t("qzRL")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"bill",component:function(e){return t.e(19).then(function(){var n=[t("g4Q9")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"slideshow",component:function(e){return Promise.all([t.e(0),t.e(13)]).then(function(){var n=[t("uRvg")];e.apply(null,n)}.bind(this)).catch(t.oe)}}]},{path:"propertyService",redirect:"propertyService/rpass",component:function(e){return t.e(1).then(function(){var n=[t("SgCr")];e.apply(null,n)}.bind(this)).catch(t.oe)},children:[{path:"rpass",component:function(e){return t.e(29).then(function(){var n=[t("2OYy")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"alarm",component:function(e){return t.e(39).then(function(){var n=[t("znNZ")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"notice",component:function(e){return Promise.all([t.e(0),t.e(17)]).then(function(){var n=[t("FUj+")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"complaint",component:function(e){return t.e(33).then(function(){var n=[t("mrdw")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"fault",component:function(e){return Promise.all([t.e(0),t.e(18)]).then(function(){var n=[t("zdGx")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"message",component:function(e){return t.e(37).then(function(){var n=[t("p1yh")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"onlineService",component:function(e){return t.e(3).then(function(){var n=[t("VcWe")];e.apply(null,n)}.bind(this)).catch(t.oe)}}]},{path:"communityIoT",redirect:"communityIoT/elevator",component:function(e){return t.e(1).then(function(){var n=[t("SgCr")];e.apply(null,n)}.bind(this)).catch(t.oe)},children:[{path:"elevator",component:function(e){return t.e(44).then(function(){var n=[t("bZCj")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"repair",component:function(e){return t.e(30).then(function(){var n=[t("apSf")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"elevatorFault",component:function(e){return t.e(34).then(function(){var n=[t("LZVx")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"elevatorRecord",component:function(e){return t.e(36).then(function(){var n=[t("bddl")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"door",component:function(e){return t.e(24).then(function(){var n=[t("GM8Z")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"doorRecord",component:function(e){return t.e(43).then(function(){var n=[t("19cH")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"parkinglotDevice",component:function(e){return t.e(40).then(function(){var n=[t("01xc")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"parkinglotRecord",component:function(e){return t.e(45).then(function(){var n=[t("q+ci")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"monitoringD",component:function(e){return t.e(28).then(function(){var n=[t("UyfU")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"monitoringC",component:function(e){return t.e(31).then(function(){var n=[t("yzp6")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"onePass",component:function(e){return t.e(16).then(function(){var n=[t("RXoI")];e.apply(null,n)}.bind(this)).catch(t.oe)}}]},{path:"businessManage",redirect:"businessManage/merchant",component:function(e){return t.e(1).then(function(){var n=[t("SgCr")];e.apply(null,n)}.bind(this)).catch(t.oe)},children:[{path:"merchant",component:function(e){return Promise.all([t.e(0),t.e(4)]).then(function(){var n=[t("hmxJ")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"amenity",component:function(e){return Promise.all([t.e(0),t.e(5)]).then(function(){var n=[t("HBiP")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"slideShow",component:function(e){return Promise.all([t.e(0),t.e(21)]).then(function(){var n=[t("lJ/k")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"recommend",component:function(e){return Promise.all([t.e(0),t.e(23)]).then(function(){var n=[t("rB3r")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"coupon",component:function(e){return Promise.all([t.e(0),t.e(22)]).then(function(){var n=[t("c957")];e.apply(null,n)}.bind(this)).catch(t.oe)}}]},{path:"summary",redirect:"summary/baseInfo",component:function(e){return t.e(1).then(function(){var n=[t("SgCr")];e.apply(null,n)}.bind(this)).catch(t.oe)},children:[{path:"baseInfo",component:function(e){return Promise.all([t.e(0),t.e(2)]).then(function(){var n=[t("GQZP")];e.apply(null,n)}.bind(this)).catch(t.oe)}}]},{path:"main",component:function(e){return t.e(35).then(function(){var n=[t("NUNI")];e.apply(null,n)}.bind(this)).catch(t.oe)}}]}]}]}),s="",h=["/home/nav/communityIoT/record","/home/nav/propertyService/message"];l.beforeEach(function(e,n,t){if(e.path.split("/")[3]&&s!==e.path.split("/")[3]){var o=["main","side","propertyService","communityIoT","businessManage","summary"].findIndex(function(n){return n==e.path.split("/")[3]});s=e.path.split("/")[3],u.a.dispatch("changeAsideData",o),u.a.dispatch("updatedNavIndex",o)}var i=function(){return localStorage.getItem("userInfo")};if(h.find(function(n){return n==e.path}))alert("该功能未开发"),t(!1);else{if("/auth/login"===e.path&&!i())return t();if(!i())return t("/auth/login");t()}});var p=l,m=t("vLgD");o.default.prototype.$xttp=m.a,o.default.config.productionTip=!1,new o.default({el:"#app",router:p,store:u.a,components:{App:r},template:"<App/>"})},WzlS:function(e,n){},tvR6:function(e,n){},vLgD:function(e,n,t){"use strict";var o=t("//Fk"),i=t.n(o),a=t("mtWM"),r=t.n(a),c=t("IcnI"),u=t("zL8q"),l=(t.n(u),r.a.create({baseURL:"https://api.smcm.bitiot.com.cn/v1",timeout:5e3}));l.interceptors.request.use(function(e){return e.headers.OS="3",e.headers["OS-VERSION"]="3",e.headers["DEVICE-ID"]="h5",e.headers["DEVICE-TYPE"]="h5",e.headers["PUSH-ID"]="10086",e.headers.CLIENT="1002",e.headers["Content-Type"]="application/json",c.a.getters.token&&(e.headers["BIT-TOKEN"]=c.a.getters.token),c.a.getters.uid&&(e.headers["BIT-UID"]=c.a.getters.uid),e},function(e){i.a.reject(e)}),l.interceptors.response.use(function(e){return e.data&&(9050001===e.data.errorCode?(c.a.dispatch("changeToken",null),Object(u.Message)({message:"登录已过期,请您重新登录",type:"error"})):0!==e.data.errorCode&&Object(u.Message)({message:e.data.errorMsg,type:"error"})),e.data||e},function(e){return Object(u.Message)({message:"链接错误,请联系管理员",type:"error"}),i.a.reject(e)}),n.a=l}},["NHnr"]);
//# sourceMappingURL=app.525df731faf061b40686.js.map
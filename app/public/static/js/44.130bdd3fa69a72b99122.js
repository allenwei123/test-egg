webpackJsonp([44],{bZCj:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-main",[a("ul",{staticClass:"c-navDetail clear"},t._l(t.navDetailData,function(e,n){return a("li",{key:n},[t._v(t._s(e.name)+" "),n!==t.navDetailData.length-1?a("span",[t._v(" > ")]):t._e()])})),t._v(" "),a("div",{staticClass:"c-rpass-container"},[a("div",{staticClass:"c-searchbar"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-select",{attrs:{placeholder:"品牌",clearable:""},on:{change:t.changeStatus},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}},t._l(t.options,function(t){return a("el-option",{key:t.id,attrs:{label:t.brandName,value:t.id}})})),t._v(" "),a("el-select",{attrs:{placeholder:"全部楼栋",clearable:""},on:{change:t.changeStatus},model:{value:t.value3,callback:function(e){t.value3=e},expression:"value3"}},t._l(t.options2,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),t._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"梯号"},model:{value:t.input,callback:function(e){t.input="string"==typeof e?e.trim():e},expression:"input"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.query}},[t._v("查询")])],1)],1)],1),t._v(" "),a("div",{staticClass:"c-list"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{label:"序号",width:"80","show-overflow-tooltip":!0,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s((t.currentPage-1)*t.pageSize+e.$index+1))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"梯号","min-width":"100","show-overflow-tooltip":!0,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"所属楼栋","min-width":"120","show-overflow-tooltip":!0,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.buildName))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"品牌","min-width":"220","show-overflow-tooltip":!0,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.brandName))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态","min-width":"120","show-overflow-tooltip":!0,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getStatusName(e.row.elevatorStatus)))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"120",fixed:t.tableData.length?"right":"/",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.viewRecord(e.row)}}},[t._v("使用记录")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"c-pagination"},[a("el-pagination",{attrs:{layout:"total, prev, pager, next, jumper",total:t.total,"page-size":t.pageSize,"current-page":t.currentPage},on:{"current-change":t.getTableList,"update:currentPage":function(e){t.currentPage=e}}})],1)])])],1)},staticRenderFns:[]};var i=a("VU/8")({name:"message",data:function(){return{value1:"",options:[],value2:"",options2:[],navDetailData:[{id:0,name:"社区物联"},{id:1,name:"电梯管理"},{id:2,name:"电梯档案"}],value3:"",value4:"",loading:!1,tableData:[],communityId:this.$store.getters.communityId,pageSize:10,total:0,currentPage:1,input:"",q_input:null}},methods:{query:function(){this.q_input=this.input,1!==this.currentPage?this.currentPage=1:this.getTableList()},getBrandList:function(){var t=this;this.$xttp.get("/communityIoT/elevator/brand-list").then(function(e){0===e.errorCode&&(t.options=e.data.records)})},getFloorList:function(){var t=this;this.$xttp.get("community/building/list",{params:{communityId:this.communityId}}).then(function(e){e.errorCode||(t.options2=e.data)})},changeStatus:function(){this.query()},getTableList:function(){var t=this;this.loading=!0;var e="/communityIoT/elevator/list?page="+this.currentPage+"&size="+this.pageSize,a={};a.communityId=this.communityId,this.value1&&(a.brandId=this.value1),this.value2&&(a.elevatorId=this.value2),this.value3&&(a.buildingId=[this.value3]),this.input&&(a.name=this.input),this.$xttp.post(e,a).then(function(e){t.loading=!1,0===e.errorCode&&(t.tableData=e.data.records,t.total=e.data.total)}).catch(function(){t.loading=!1})},getStatusName:function(t){return{0:"正常",1:"检修",2:"终端断开",3:"故障"}[t]},viewFault:function(t){this.$router.push({path:"repair",query:{id:t.id}})},viewRecord:function(t){this.$router.push({path:"elevatorRecord",query:{id:t.id}})}},created:function(){this.query(),this.getBrandList(),this.getFloorList()}},n,!1,function(t){a("wcx7")},"data-v-07f4e94a",null);e.default=i.exports},wcx7:function(t,e){}});
//# sourceMappingURL=44.130bdd3fa69a72b99122.js.map
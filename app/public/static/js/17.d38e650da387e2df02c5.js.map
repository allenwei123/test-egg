{"version":3,"sources":["webpack:///src/page/home/nav/property_service/notice/form.vue","webpack:///./src/page/home/nav/property_service/notice/form.vue?aa06","webpack:///./src/page/home/nav/property_service/notice/form.vue","webpack:///src/page/home/nav/property_service/notice/preview.vue","webpack:///./src/page/home/nav/property_service/notice/preview.vue?74f0","webpack:///./src/page/home/nav/property_service/notice/preview.vue","webpack:///src/page/home/nav/property_service/notice/list.vue","webpack:///./src/page/home/nav/property_service/notice/list.vue?af5c","webpack:///./src/page/home/nav/property_service/notice/list.vue"],"names":["notice_form","visible","val","text","_this","this","uploadFiles","key","submitForm","_this2","type","communityId","title","body","thumbnailUrl","id","_this3","toString","uri","fileList2","property_service_notice_form","render","_vm","_h","$createElement","_c","_self","attrs","formVisible","on","update:visible","$event","model","form","label-width","label","required","value","callback","$$v","$set","trim","expression","_v","placeholder","ref","action","auto-upload","limit","accept","on-exceed","onExceed","file-list","list-type","staticClass","rows","slot","click","closeForm","save","staticRenderFns","communityName","updateAt","getTime","ts","notice_preview","previewVisible","_s","noticeInfo","src","_e","_f","time","staticStyle","margin-left","list","NoticeForm","__webpack_require__","normalizeComponent","ssrContext","NoticePreview","preview_normalizeComponent","preview","name","input","query","status","then","item","obj","_this4","data","it","_this5","pageSize","value1","getDate","records","total","notice_list","_l","nav","index","navDetailData","length","inline","clearable","change","changeStatus","range-separator","start-placeholder","end-placeholder","value6","float","addNotice","directives","rawName","width","tableData","stripe","show-overflow-tooltip","align","scopedSlots","_u","fn","scope","currentPage","$index","min-width","row","getNoticeTypeName","noticeType","editorName","getPublishStatusName","publishStatus","fixed","size","pushStatus","push","revoke","publish","modify","del","layout","page-size","current-page","current-change","getTableList","update:currentPage","detail","formDetail","isModify","formIsModify","saveSuccess","previewNoticeInfo","list_Component","list_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/17.d38e650da387e2df02c5.js","sourcesContent":["<template>\r\n  <el-dialog :title=\"text\" :visible.sync=\"formVisible\">\r\n    <el-form :model=\"form\" label-width=\"120px\">\r\n      <el-form-item label=\"公告标题\" label-width=\"120px\" required>\r\n        <el-input v-model.trim=\"form.title\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"公告类型\" required>\r\n        <el-select v-model=\"form.type\" placeholder=\"请选择公告类型\">\r\n          <el-option label=\"公告\" value=\"1\"></el-option>\r\n          <el-option label=\"新闻\" value=\"2\"></el-option>\r\n          <el-option label=\"活动\" value=\"3\"></el-option>\r\n          <el-option label=\"提醒\" value=\"4\"></el-option>\r\n          <el-option label=\"其他\" value=\"99\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <!--<el-form-item label=\"发布对象\" required>-->\r\n        <!--<el-select v-model=\"form.obj\" placeholder=\"发布对象\">-->\r\n          <!--<el-option label=\"全部\" value=\"\"></el-option>-->\r\n          <!--<el-option label=\"住户\" value=\"1\"></el-option>-->\r\n          <!--<el-option label=\"员工\" value=\"2\"></el-option>-->\r\n        <!--</el-select>-->\r\n      <!--</el-form-item>-->\r\n      <el-form-item label=\"配图\" required>\r\n        <template>\r\n          <el-upload\r\n            ref=\"upload\"\r\n            action=\"\"\r\n            :auto-upload=\"false\"\r\n            :limit=\"1\"\r\n            accept=\"image/*\"\r\n            :on-exceed=\"onExceed\"\r\n            :file-list=\"fileList2\"\r\n            list-type=\"picture-card\">\r\n            <i class=\"el-icon-plus\"></i>\r\n          </el-upload>\r\n        </template>\r\n      </el-form-item>\r\n      <el-form-item label=\"公告内容\" required>\r\n        <el-input type=\"textarea\" v-model.trim=\"form.body\" :rows=\"5\"></el-input>\r\n      </el-form-item>\r\n\r\n    </el-form>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"closeForm\">取消</el-button>\r\n      <!--<el-button type=\"primary\" @click=\"preview\">预览</el-button>-->\r\n      <el-button type=\"primary\" @click=\"save\">保存</el-button>\r\n      <!--<el-button type=\"primary\" @click=\"publish\">发布</el-button>-->\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { send as ossUpload, getUri } from \"@/utils/oss\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      formVisible: this.visible,\r\n      communityList: [],\r\n      file: null,\r\n      form: {\r\n        title: \"\",\r\n        type: \"1\",\r\n        obj: \"\",\r\n        body: \"\",\r\n        thumbnailUrl: null\r\n      },\r\n      text: '新增公告',\r\n      fileList2: []\r\n    };\r\n  },\r\n  watch: {\r\n    visible(val) {\r\n      this.formVisible = val;\r\n    },\r\n    formVisible(val) {\r\n      this.$emit(\"update:visible\", val);\r\n    }\r\n  },\r\n  methods: {\r\n    showInfo(text) {\r\n      this.$message({\r\n        message: text,\r\n        type: \"warning\"\r\n      });\r\n    },\r\n    closeForm() {\r\n      this.formVisible = false;\r\n    },\r\n    preview() {},\r\n    up() {},\r\n    onExceed() {\r\n      this.$message(\"只能上传一张图片\");\r\n    },\r\n    save() {\r\n      if (!this.form.title.length) {\r\n        this.showInfo(\"公告标题不能为空\");\r\n        return;\r\n      }\r\n      if (!this.form.body.length) {\r\n        this.showInfo(\"公告内容不能为空\");\r\n        return;\r\n      }\r\n\r\n      let files = this.$refs.upload.uploadFiles;\r\n      if (files.length) {\r\n        ossUpload(files[0].raw, key => {\r\n          this.form.thumbnailUrl = key;\r\n          this.submitForm();\r\n        });\r\n      } else if (files.length === 0) {\r\n        this.showInfo(\"图片内容不能为空\");\r\n        return;\r\n      } else {\r\n        this.submitForm();\r\n      }\r\n      \r\n    },\r\n    submitForm() {\r\n      this.loading = true;\r\n      let params = {};\r\n      params[\"noticeType\"] = this.form.type;\r\n      params[\"communityId\"] = this.$store.getters.communityId;\r\n      params[\"title\"] = this.form.title;\r\n      params[\"body\"] = this.form.body;\r\n      if (this.form.thumbnailUrl) {\r\n        params[\"thumbnailUrl\"] = this.form.thumbnailUrl;\r\n      }\r\n      let url = \"property/notice/add\";\r\n      if (this.isModify) {\r\n        url = \"property/notice/edit\";\r\n        params[\"id\"] = this.detail.id;\r\n      }\r\n      this.$xttp.post(url, params).then(res => {\r\n        this.loading = false;\r\n        if (res.errorCode === 0) {\r\n          this.formVisible = false;\r\n          this.$emit('saveSuccess');\r\n        }\r\n      }).catch(() => {\r\n        this.loading = false;\r\n      });\r\n    }\r\n  },\r\n  props: [\"visible\", \"detail\", \"isModify\"],\r\n  created() {\r\n    if (this.isModify) {\r\n      this.text = \"修改公告\";\r\n      this.form.title = this.detail.title;\r\n      this.form.type = this.detail.noticeType.toString();\r\n      this.form.thumbnailUrl = this.detail.thumbnailUrl;\r\n      this.form.body = this.detail.body;\r\n      if (this.detail.thumbnailUrl) {\r\n        getUri(this.detail.thumbnailUrl,(uri) => {\r\n          this.fileList2.push({url:uri});\r\n        });\r\n      }\r\n    }\r\n\r\n    console.log(this.fileList2);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.el-upload {\r\n  width: 100px;\r\n  height: 100px;\r\n  line-height: 100px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/home/nav/property_service/notice/form.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.text,\"visible\":_vm.formVisible},on:{\"update:visible\":function($event){_vm.formVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"公告标题\",\"label-width\":\"120px\",\"required\":\"\"}},[_c('el-input',{model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"公告类型\",\"required\":\"\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择公告类型\"},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},[_c('el-option',{attrs:{\"label\":\"公告\",\"value\":\"1\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"新闻\",\"value\":\"2\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"活动\",\"value\":\"3\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"提醒\",\"value\":\"4\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"其他\",\"value\":\"99\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"配图\",\"required\":\"\"}},[[_c('el-upload',{ref:\"upload\",attrs:{\"action\":\"\",\"auto-upload\":false,\"limit\":1,\"accept\":\"image/*\",\"on-exceed\":_vm.onExceed,\"file-list\":_vm.fileList2,\"list-type\":\"picture-card\"}},[_c('i',{staticClass:\"el-icon-plus\"})])]],2),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"公告内容\",\"required\":\"\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":5},model:{value:(_vm.form.body),callback:function ($$v) {_vm.$set(_vm.form, \"body\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.body\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeForm}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0b2373ba\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/home/nav/property_service/notice/form.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0b2373ba\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./form.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./form.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./form.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0b2373ba\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./form.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0b2373ba\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/home/nav/property_service/notice/form.vue\n// module id = null\n// module chunks = ","<template>\r\n  <el-dialog title=\"公告预览\" :visible.sync=\"previewVisible\">\r\n    <div class=\"c-preview-container\" v-if=\"noticeInfo\">\r\n      <h1>{{noticeInfo.title}}</h1>\r\n      <div class=\"c-image\" v-if=\"uri\"><img :src=\"uri\"></div>\r\n      <p>\r\n        <span>{{time | time('yyyy-MM-dd HH:mm')}}</span>\r\n        <span style=\"margin-left: 20px\">{{communityName}}</span>\r\n      </p>\r\n      <div>\r\n        <pre>{{noticeInfo.body}}</pre>\r\n      </div>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { getUri } from '@/utils/oss';\r\n  export default {\r\n    data() {\r\n      return {\r\n        previewVisible: this.visible,\r\n        communityName: this.$store.getters.communityName,\r\n        uri:''\r\n      }\r\n    },\r\n    watch: {\r\n      visible(val) {\r\n        this.previewVisible = val;\r\n      },\r\n      previewVisible(val) {\r\n        this.$emit('update:visible', val);\r\n      }\r\n    },\r\n    props: ['visible', 'noticeInfo'],\r\n    computed: {\r\n      time() {\r\n        let ts = this.noticeInfo.updateAt;\r\n        if (!ts) {\r\n          ts = new Date().getTime();\r\n        }\r\n        return ts;\r\n      }\r\n    },\r\n    created() {\r\n      if(this.noticeInfo.thumbnailUrl) {\r\n          getUri(this.noticeInfo.thumbnailUrl,(uri)=> {\r\n            this.uri = uri;\r\n          });\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .c-preview-container {\r\n    pre {\r\n      margin: 0;\r\n      padding: 0;\r\n      white-space: pre-wrap;\r\n      word-wrap: break-word;\r\n      background-color: transparent;\r\n      font-size: 14px;\r\n      min-width: 280px;\r\n      font-family: inherit;\r\n    }\r\n  }\r\n  .c-image {\r\n    width:100px;\r\n    height: auto;\r\n    overflow: hidden;\r\n    img {\r\n      width:100%;\r\n      vertical-align: middle;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/home/nav/property_service/notice/preview.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"公告预览\",\"visible\":_vm.previewVisible},on:{\"update:visible\":function($event){_vm.previewVisible=$event}}},[(_vm.noticeInfo)?_c('div',{staticClass:\"c-preview-container\"},[_c('h1',[_vm._v(_vm._s(_vm.noticeInfo.title))]),_vm._v(\" \"),(_vm.uri)?_c('div',{staticClass:\"c-image\"},[_c('img',{attrs:{\"src\":_vm.uri}})]):_vm._e(),_vm._v(\" \"),_c('p',[_c('span',[_vm._v(_vm._s(_vm._f(\"time\")(_vm.time,'yyyy-MM-dd HH:mm')))]),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\"20px\"}},[_vm._v(_vm._s(_vm.communityName))])]),_vm._v(\" \"),_c('div',[_c('pre',[_vm._v(_vm._s(_vm.noticeInfo.body))])])]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bab4cec2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/home/nav/property_service/notice/preview.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bab4cec2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./preview.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./preview.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./preview.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bab4cec2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./preview.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-bab4cec2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/home/nav/property_service/notice/preview.vue\n// module id = null\n// module chunks = ","<template>\n  <el-container>\n    <el-main>\n      <ul class=\"c-navDetail clear\">\n        <li v-for=\"(nav, index) in navDetailData\" :key=\"index\">{{ nav.name }} <span v-if=\"index !== navDetailData.length -  1\"> > </span></li>\n      </ul>\n      <div class=\"c-notice-container\">\n        <div class=\"c-search\">\n          <el-form :inline=\"true\" class=\"demo-form-inline\">\n            <el-select v-model=\"value1\" placeholder=\"全部状态\" clearable @change=\"changeStatus\">\n              <el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n            </el-select>\n            <el-date-picker\n              v-model=\"value6\"\n              type=\"daterange\"\n              range-separator=\"至\"\n              start-placeholder=\"开始日期\"\n              end-placeholder=\"结束日期\" clearable @change=\"changeStatus\">\n            </el-date-picker>\n            <!-- <el-form-item label=\"\">\n              <el-input  placeholder=\"标题\" v-model.trim=\"input\"></el-input>\n            </el-form-item> -->\n            <el-form-item>\n              <el-button type=\"primary\" @click=\"query\">查询</el-button>\n            </el-form-item>\n            <el-form-item style=\"float: right\">\n              <el-button type=\"primary\" class=\"c-addBtn\" @click=\"addNotice\">新增公告</el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n        <div class=\"c-list\">\n          <el-table :data=\"tableData\" style=\"width: 100%\" v-loading=\"loading\" stripe>\n            <el-table-column label=\"序号\" width=\"80\" :show-overflow-tooltip=\"true\" align=\"center\">\n              <template slot-scope=\"scope\">{{(currentPage-1) * pageSize + scope.$index + 1}}</template>\n            </el-table-column>\n            <el-table-column label=\"标题\" min-width=\"180\" :show-overflow-tooltip=\"true\" align=\"center\">\n              <template slot-scope=\"scope\">{{scope.row.title}}</template>\n            </el-table-column>\n            <el-table-column label=\"类型\" min-width=\"60\" :show-overflow-tooltip=\"true\" align=\"center\">\n              <template slot-scope=\"scope\">{{getNoticeTypeName(scope.row.noticeType)}}</template>\n            </el-table-column>\n            <el-table-column label=\"发布对象\" width=\"100\">\n              <template slot-scope=\"scope\">{{ scope.row.editorName }}</template>\n            </el-table-column>\n            <el-table-column label=\"状态\" min-width=\"100\" :show-overflow-tooltip=\"true\" align=\"center\">\n              <template slot-scope=\"scope\">{{getPublishStatusName(scope.row.publishStatus)}}</template>\n            </el-table-column>\n            <!--<el-table-column label=\"最后操作人员\" min-width=\"150\" :show-overflow-tooltip=\"true\" align=\"center\">-->\n              <!--<template slot-scope=\"scope\">{{scope.row.editorName}}</template>-->\n            <!--</el-table-column>-->\n            <el-table-column label=\"发布时间\" min-width=\"160\" :show-overflow-tooltip=\"true\" align=\"center\">\n              <template slot-scope=\"scope\">{{scope.row.updateAt | time('yyyy-MM-dd HH:mm')}}</template>\n            </el-table-column>\n            <el-table-column label=\"操作\" width=\"300\" :fixed=\"tableData.length ? 'right' : '/'\" align=\"left\">\n              <template slot-scope=\"scope\">\n                <el-button type=\"primary\" size=\"mini\" @click=\"preview(scope.row)\">预览</el-button>\n                <!--已发布-->\n                <template v-if=\"scope.row.publishStatus === 1\">\n                  <!--推送公告逻辑：此公告已经发布并且还未推送的才能给物业推送，一个公告只能推送一次-->\n                  <el-button type=\"primary\" size=\"mini\" v-if=\"scope.row.pushStatus === 0\" @click=\"push(scope.row)\">推送</el-button>\n                  <el-button type=\"primary\" size=\"mini\" @click=\"revoke(scope.row)\">撤销</el-button>\n                </template>\n\n                <!--未发布-->\n                <template v-if=\"scope.row.publishStatus !== 1\">\n                  <el-button type=\"primary\" size=\"mini\" @click=\"publish(scope.row)\">发布</el-button>\n                  <el-button type=\"primary\" size=\"mini\" @click=\"modify(scope.row)\">修改</el-button>\n                  <el-button type=\"danger\" size=\"mini\" @click=\"del(scope.row)\">删除</el-button>\n                </template>\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n        <div class=\"c-pagination\">\n          <el-pagination\n            layout=\"total, prev, pager, next, jumper\" @current-change=\"getTableList\"\n            :total=\"total\" :page-size=\"pageSize\" :current-page.sync=\"currentPage\">\n          </el-pagination>\n        </div>\n      </div>\n\n      <NoticeForm :detail=\"formDetail\" :isModify=\"formIsModify\" :visible.sync=\"formVisible\" v-if=\"formVisible\" @saveSuccess=\"query\"></NoticeForm>\n      <NoticePreview :visible.sync=\"previewVisible\" v-if=\"previewVisible\" :noticeInfo=\"previewNoticeInfo\"></NoticePreview>\n    </el-main>\n  </el-container>\n</template>\n\n<script>\n  import NoticeForm from './form';\n  import NoticePreview from './preview';\n  export default {\n    name: 'notice',\n    components: {\n      NoticeForm,\n      NoticePreview\n    },\n    data () {\n      return {\n        value6: '',\n        value1: '',\n        options: [ {\n          value: '0',\n          label: '未发布'\n        }, {\n          value: '1',\n          label: '已发布'\n        }, {\n          value: '-1',\n          label: '已撤销'\n        }],\n        navDetailData: [\n          { id: 0, name: \"物业服务\" },\n          { id: 1, name: \"消息管理\" },\n          { id: 2, name: \"社区公告\" }\n        ],\n        loading: false,\n        tableData: [],\n        pageSize: 10,\n        total: 0,\n        currentPage: 1,\n        formVisible: false,\n        formIsModify: false,\n        formDetail: {},\n        previewVisible: false,\n        previewNoticeInfo: null,\n        input: '',\n        q_input: null\n      }\n    },\n    methods: {\n      query() {\n        this.q_input = this.input;\n        if (this.currentPage !== 1) {\n          this.currentPage = 1;\n        }\n        else {\n          this.getTableList(1);\n        }\n      },\n      changeStatus() {\n        this.query();\n        this.tableData = [];\n      },\n      // 获取通知类型名称\n      getNoticeTypeName(type) {\n        let names = {\n          '1': '公告',\n          '2': '新闻',\n          '3': '活动',\n          '4': '提醒',\n          '99': '其他'\n        };\n        return names[type];\n      },\n      getPublishStatusName(status) {\n        let names = {\n          '-1': '已撤销',\n          '0': '未发布',\n          '1': '已发布'\n        };\n        return names[status];\n      },\n      // 发布公告\n      publish(item) {\n        this.loading = true;\n        let noticeId = item.id;\n        let url = `property/notice/${noticeId}/publish`;\n        this.$xttp.get(url).then((res) => {\n          this.loading = false;\n          if (res.errorCode === 0) {\n            item.publishStatus = 1;\n          }\n        }).catch(() => {\n          this.loading = false;\n        });\n      },\n      // 删除\n      del(item) {\n        this.$confirm('确认删除公告？', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.loading = true;\n          this.$xttp.get(`property/notice/${item.id}/delete`).then(res => {\n            this.loading = false;\n            if (res.errorCode === 0) {\n              this.getTableList(1);\n            }\n          }).catch(() => {\n            this.loading = false;\n          })\n        }).catch(() => {});\n      },\n      // 修改\n      modify(item) {\n        this.formIsModify = true;\n        this.formDetail = item;\n        this.formVisible = true;\n      },\n      addNotice() {\n        this.formIsModify = false;\n        this.formVisible = true;\n      },\n      preview(item) {\n        this.previewNoticeInfo = item;\n        this.previewVisible = true;\n      },\n      deepCopy(obj) {\n        return JSON.parse(JSON.stringify(obj));\n      },\n      // 推送\n      push(item) {\n        this.$confirm('确认推送此公告吗？', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.loading = true;\n          this.$xttp.get(`property/notice/${item.id}/push`).then(res => {\n            this.loading = false;\n            if (res.errorCode === 0) {\n              this.getTableList(1);\n            }\n          }).catch(() => {\n            this.loading = false;\n          })\n        });\n      },\n      // 撤销\n      revoke(item) {\n        // let newItem = this.deepCopy(item);\n        // newItem.publishStatus = -1;\n        this.loading = true;\n        let params = {\n          id: item.id,\n          publishStatus: -1,\n          body: item.body\n        };\n        this.$xttp.post('property/notice/edit', params).then(res => {\n          this.loading = false;\n          if (res.errorCode === 0) {\n            this.tableData = this.tableData.map(it => {\n              if (it === item) {\n                it = res.data;\n              }\n              return it;\n            });\n          }\n        }).catch(() => {\n          this.loading = false;\n        });\n      },\n      getTableList(pages) {\n        this.loading = true;\n        let url = `property/notice/page?page=${pages}&size=${this.pageSize}`;\n        let params = {};\n        params['communityId'] = this.$store.getters.communityId;\n        if(this.value1){\n          params['publishStatus'] = this.value1;\n        }\n        if(this.value6) {\n          let a = new Date(this.value6[0]);\n          let b = new Date(this.value6[1]);\n          params['startAt'] = a.getFullYear() + '-' +(a.getMonth() < 10 ? '0': '')  + (a.getMonth() + 1) + '-' + (a.getDate() < 10 ? '0': '') + a.getDate();\n          params['endAt'] = b.getFullYear() + '-' +(b.getMonth() < 10 ? '0': '')  + (b.getMonth() + 1) + '-' + (b.getDate() < 10 ? '0': '') + b.getDate();\n        }\n        this.$xttp.post(url, params).then(res => {\n          this.loading = false;\n          if (res.errorCode === 0) {\n            this.tableData = res.data.records;\n            this.total = res.data.total;\n          }\n        }).catch(() => {\n          this.loading = false;\n        })\n      }\n    },\n    created() {\n      this.query();\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\">\n  .c-navDetail {\n    margin-bottom: 10px;\n    li {\n      float: left;\n      margin-right: 10px;\n    }\n  }\n\n  .c-body {\n    width: 90%;\n    &.c-maxWidth {\n      max-width: calc(100vw - 200px);\n    }\n  }\n\n  .c-search {\n    position: relative;\n    width: 100%;\n    .c-addBtn {\n      position: absolute;\n      right: 0px;\n      top: 0px;\n    }\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/home/nav/property_service/notice/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('el-main',[_c('ul',{staticClass:\"c-navDetail clear\"},_vm._l((_vm.navDetailData),function(nav,index){return _c('li',{key:index},[_vm._v(_vm._s(nav.name)+\" \"),(index !== _vm.navDetailData.length -  1)?_c('span',[_vm._v(\" > \")]):_vm._e()])})),_vm._v(\" \"),_c('div',{staticClass:\"c-notice-container\"},[_c('div',{staticClass:\"c-search\"},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true}},[_c('el-select',{attrs:{\"placeholder\":\"全部状态\",\"clearable\":\"\"},on:{\"change\":_vm.changeStatus},model:{value:(_vm.value1),callback:function ($$v) {_vm.value1=$$v},expression:\"value1\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})})),_vm._v(\" \"),_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"clearable\":\"\"},on:{\"change\":_vm.changeStatus},model:{value:(_vm.value6),callback:function ($$v) {_vm.value6=$$v},expression:\"value6\"}}),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.query}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"float\":\"right\"}},[_c('el-button',{staticClass:\"c-addBtn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addNotice}},[_vm._v(\"新增公告\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"c-list\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"width\":\"80\",\"show-overflow-tooltip\":true,\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s((_vm.currentPage-1) * _vm.pageSize + scope.$index + 1))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"标题\",\"min-width\":\"180\",\"show-overflow-tooltip\":true,\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.title))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"类型\",\"min-width\":\"60\",\"show-overflow-tooltip\":true,\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm.getNoticeTypeName(scope.row.noticeType)))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"发布对象\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.editorName))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\",\"min-width\":\"100\",\"show-overflow-tooltip\":true,\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm.getPublishStatusName(scope.row.publishStatus)))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"发布时间\",\"min-width\":\"160\",\"show-overflow-tooltip\":true,\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm._f(\"time\")(scope.row.updateAt,'yyyy-MM-dd HH:mm')))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"300\",\"fixed\":_vm.tableData.length ? 'right' : '/',\"align\":\"left\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.preview(scope.row)}}},[_vm._v(\"预览\")]),_vm._v(\" \"),(scope.row.publishStatus === 1)?[(scope.row.pushStatus === 0)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.push(scope.row)}}},[_vm._v(\"推送\")]):_vm._e(),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.revoke(scope.row)}}},[_vm._v(\"撤销\")])]:_vm._e(),_vm._v(\" \"),(scope.row.publishStatus !== 1)?[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.publish(scope.row)}}},[_vm._v(\"发布\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.modify(scope.row)}}},[_vm._v(\"修改\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.del(scope.row)}}},[_vm._v(\"删除\")])]:_vm._e()]}}])})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"c-pagination\"},[_c('el-pagination',{attrs:{\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.total,\"page-size\":_vm.pageSize,\"current-page\":_vm.currentPage},on:{\"current-change\":_vm.getTableList,\"update:currentPage\":function($event){_vm.currentPage=$event}}})],1)]),_vm._v(\" \"),(_vm.formVisible)?_c('NoticeForm',{attrs:{\"detail\":_vm.formDetail,\"isModify\":_vm.formIsModify,\"visible\":_vm.formVisible},on:{\"update:visible\":function($event){_vm.formVisible=$event},\"saveSuccess\":_vm.query}}):_vm._e(),_vm._v(\" \"),(_vm.previewVisible)?_c('NoticePreview',{attrs:{\"visible\":_vm.previewVisible,\"noticeInfo\":_vm.previewNoticeInfo},on:{\"update:visible\":function($event){_vm.previewVisible=$event}}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3eba5445\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/home/nav/property_service/notice/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3eba5445\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3eba5445\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3eba5445\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/home/nav/property_service/notice/list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
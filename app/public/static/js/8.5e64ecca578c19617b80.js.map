{"version":3,"sources":["webpack:///src/page/home/nav/property_manage/schedul/add.vue","webpack:///./src/page/home/nav/property_manage/schedul/add.vue?2182","webpack:///./src/page/home/nav/property_manage/schedul/add.vue","webpack:///./src/page/home/nav/property_manage/schedul/see.vue?1d28","webpack:///./src/page/home/nav/property_manage/schedul/see.vue","webpack:///src/page/home/nav/property_manage/schedul/see.vue","webpack:///src/page/home/nav/property_manage/schedul/edit.vue","webpack:///./src/page/home/nav/property_manage/schedul/edit.vue?583a","webpack:///./src/page/home/nav/property_manage/schedul/edit.vue","webpack:///src/page/home/nav/property_manage/schedul/schedul.vue","webpack:///./src/page/home/nav/property_manage/schedul/schedul.vue?bc42","webpack:///./src/page/home/nav/property_manage/schedul/schedul.vue"],"names":["add","current","value","_this","this","communityId","data","_this2","postCode","then","res","_this3","params","records","_this4","name","id","attendTime","attendPlace","offPlace","offTime","task","err","postData","_this5","date","empl","attendTimeStr","offTimeStr","classId","className","workDate","userId","propertyId","$xttp","post","uri","handleClose","catch","initEmpl","initClass","_this6","userName","remark","initPost","schedul_add","render","_vm","_h","$createElement","_c","_self","attrs","title","titleFont","visible","msg","before-close","on","update:visible","$event","staticClass","inline","rules","model","form","gutter","type","justify","span","label","prop","disabled","editDate","value-format","format","placeholder","callback","$$v","$set","expression","_v","disabledPost","change","changePostCode","_l","item","key","staticStyle","height","border","border-top","display","margin-top","changEmpl","float","checked","changeRadio","_e","picker-options","start","step","end","margin-left","label-width","formLabelWidth","click","save","staticRenderFns","property_manage_schedul_add","__webpack_require__","normalizeComponent","ssrContext","schedul_see","_s","_f","updateAt","dataStatus","property_manage_schedul_see","see_normalizeComponent","edit","schedul_edit","property_manage_schedul_edit","edit_normalizeComponent","Date","AddPage","SeePage","EditPage","isShow","val","row","sendAjax","find","rangeDate","startDate","endDate","obj","currentPage","total","nPage","schedul_schedul","nav","index","navDetailData","length","formInline","align","unlink-panels","range-separator","start-placeholder","end-placeholder","pickerOptions","changeRangeDate","onSubmit","directives","rawName","ref","width","tableData","element-loading-text","highlight-current-row","scopedSlots","_u","fn","scope","pageSize","$index","getTime","min-width","show-overflow-tooltip","fixed","size","editHandle","current-page","page-size","layout","current-change","handleCurrentChange","notice","upup","reload","update:add","isEdit","editData","upedit","editChange","update:edit","see","seeData","upsee","seeChange","visible2","text-align","margin","confirmDel","schedul_Component","schedul_normalizeComponent","schedul","__webpack_exports__"],"mappings":"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","file":"static/js/8.5e64ecca578c19617b80.js","sourcesContent":["<template>\r\n      <el-dialog :title=\"titleFont\" :visible.sync=\"msg\" :before-close=\"handleClose\">\r\n        <!-- <div class=\"c-search\"> -->\r\n          <el-form :inline=\"true\" :rules=\"rules\" :model=\"form\" class=\"demo-form-inline\">\r\n            <el-row :gutter=\"20\" type=\"flex\" class=\"row-bg\" justify=\"space-around\">\r\n              <el-col :span=\"10\">\r\n                <el-form-item label=\"日期：\" prop=\"date\">\r\n                  <el-date-picker v-model=\"form.date\" type=\"date\" :disabled=\"editDate\" value-format=\"yyyy-MM-dd\" format=\"yyyy-MM-dd\" placeholder=\"请选择日期\">\r\n                  </el-date-picker>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"10\">\r\n                <el-form-item label=\"岗位：\" prop=\"postCode\">\r\n                  <el-select v-model=\"form.postCode\" @change=\"changePostCode()\" placeholder=\"岗位\" :disabled=\"disabledPost\">\r\n                    <el-option v-for=\"item in postOptions\" :key=\"item.key\" :label=\"item.name\" :value=\"item.key\">\r\n                    </el-option>\r\n                  </el-select>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n            <!-- <el-form-item label=\"\" prop=\"date\">\r\n              <el-date-picker\r\n                v-model=\"form.date\"\r\n                type=\"date\"\r\n                :disabled=\"editDate\"\r\n                value-format=\"yyyy-MM-dd\"\r\n                format=\"yyyy-MM-dd\"\r\n                placeholder=\"请选择日期\">\r\n              </el-date-picker>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"岗位：\" prop=\"postCode\">\r\n              <el-select v-model=\"form.postCode\" @change=\"changePostCode()\" placeholder=\"岗位\" :disabled=\"disabledPost\">\r\n                <el-option v-for=\"item in postOptions\" :key=\"item.key\" :label=\"item.name\" :value=\"item.key\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item> -->\r\n\r\n            <hr style=\"height:1px;border:none;border-top:1px dashed #cecece;\" />\r\n\r\n            <el-form-item label=\"员工：\" prop=\"empl\" class=\"c-must\" style=\"display:block;margin-top:25px;\">\r\n              <!-- <el-select v-model=\"form.empl\" placeholder=\"请选择员工\" @change=\"changEmpl\" :disabled=\"disabledPost\">\r\n                <el-option v-for=\"(item , indexs) in emplData\" :key=\"item.userId\" :label=\"item.userName\" :value=\"indexs\">\r\n                </el-option>\r\n              </el-select> -->\r\n              <el-select v-model=\"form.empl\" placeholder=\"请选择员工\" @change=\"changEmpl\" :disabled=\"disabledPost\">\r\n                <el-option v-for=\"item in emplData\" :key=\"item.userId\" :label=\"item.userName\" :value=\"item.userId\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item v-if=\"isSee\" label=\"班次：\" prop=\"class\" class=\"c-must\" style=\"display:block;margin-top:25px;float:left;\">\r\n              <el-radio-group v-model=\"form.class\">\r\n                <el-radio @change=\"changeRadio\" :checked=\"checked\" :label=\"item.name\" :key=\"item.name\" v-for=\"(item) in classData\" border></el-radio>\r\n                <!-- <el-radio @change=\"changeRadio\" :checked=\"checked\" :label=\"item.name\" :value=\"item.id\" :key=\"item.name\" v-for=\"(item) in classData\" border></el-radio> -->\r\n              </el-radio-group>\r\n            </el-form-item>\r\n            <el-form-item v-if=\"isShow\">\r\n              <el-row :gutter=\"24\" type=\"flex\" class=\"row-bg\" justify=\"space-around\">\r\n                <el-col :span=\"8\">\r\n                  <el-input placeholder=\"班次名称\" v-model=\"form.name\"></el-input>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-time-select placeholder=\"出勤时间\" v-model=\"form.attendTimeStr\" :picker-options=\"{\r\n                    start: '00:00',\r\n                    step: '00:05',\r\n                    end: '24:00'\r\n                    }\">\r\n                  </el-time-select>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-time-select placeholder=\"退勤时间\" v-model=\"form.offTimeStr\" :picker-options=\"{\r\n                    start: '00:00',\r\n                    step: '00:05',\r\n                    end: '24:00'\r\n                    }\">\r\n                  </el-time-select>\r\n                </el-col>\r\n              </el-row>\r\n              <el-row :gutter=\"20\" style=\"margin-top:20px;\">\r\n                <el-col :span=\"8\">\r\n                  <el-input placeholder=\"出勤地点\" v-model=\"form.attendPlace\"></el-input>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-input placeholder=\"退勤地点\" v-model=\"form.offPlace\"></el-input>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-input placeholder=\"任务\" v-model=\"form.task\"></el-input>\r\n                </el-col>\r\n              </el-row>\r\n              <!-- <div class=\"demo-input-suffix\">\r\n                <el-input\r\n                  placeholder=\"班次名称\"\r\n                  v-model=\"form.name\">\r\n                </el-input>\r\n                <el-time-select placeholder=\"出勤时间\" v-model=\"form.attendTimeStr\"\r\n                :picker-options=\"{\r\n                  start: '00:00',\r\n                  step: '00:05',\r\n                  end: '24:00'\r\n                  }\">\r\n                </el-time-select>\r\n                <el-time-select placeholder=\"退勤时间\" v-model=\"form.offTimeStr\"\r\n                  :picker-options=\"{\r\n                    start: '00:00',\r\n                    step: '00:05',\r\n                    end: '24:00'\r\n                  }\">\r\n                </el-time-select>\r\n                <div style=\"min-height:20px;\"></div>\r\n                <el-input\r\n                  placeholder=\"出勤地点\"\r\n                  v-model=\"form.attendPlace\">\r\n                </el-input>\r\n                <el-input\r\n                  placeholder=\"退勤地点\"\r\n                  v-model=\"form.offPlace\">\r\n                </el-input>\r\n                <el-input\r\n                  placeholder=\"任务\"\r\n                  v-model=\"form.task\">\r\n                </el-input>      \r\n              </div> -->\r\n            </el-form-item>\r\n           \r\n            <el-form-item :label-width=\"formLabelWidth\" style=\"margin-top:20px;margin-left:40%;\" >\r\n              <el-button @click=\"handleClose\">取 消</el-button>\r\n              <el-button type=\"primary\" @click=\"save\">保存</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        <!-- </div>        -->\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport time from '@/utils/time.js';\r\nexport default {\r\n  name: \"SchedulAdd\",\r\n  data() {\r\n    return {\r\n      formLabelWidth: \"120px\",\r\n      titleFont:'新增排班',\r\n      isSee: false,\r\n      isShow: false,\r\n      checked: false,\r\n      disabledPost: false,\r\n      disabled1: false,\r\n      editDate: false,\r\n      form: {\r\n        postCode: 'SECURITY',\r\n        date: '',\r\n        empl: '',\r\n        class: '',\r\n        name: '',\r\n        attendTimeStr: '',\r\n        offTimeStr: '',\r\n        task:'',\r\n        attendPlace: '',\r\n        offPlace: '',\r\n        classId:''\r\n      },\r\n      rules: {\r\n        empl: [{ required: true, message: \"请选中员工\", trigger: \"blur\" }],\r\n        class: [{ required: true, message: \"请选中班次\", trigger: \"blur\" }]\r\n      },\r\n      postOptions: [],\r\n      emplData: [],\r\n      classData: [],\r\n      current: 1 //1 初始 2：添加后 3：编辑后\r\n    };\r\n  },\r\n  props: [\"msg\",\"add\",'edit'],\r\n  mounted() {},\r\n  methods: {\r\n    handleClose() {\r\n      this.$emit(\"upup\", this.current );\r\n    },\r\n    changEmpl(value){\r\n      this.form.empl = value;\r\n    },\r\n    initPost(){\r\n      let communityId = this.$store.getters.communityId\r\n      this.$xttp.get(`/user/property/${communityId}/post-list`).then(res => {\r\n        if(!res.errorCode) {\r\n          this.postOptions = res.data;\r\n        }\r\n      })\r\n    },\r\n    initEmpl() {\r\n      let communityId = this.$store.getters.communityId\r\n      let postCode = this.form.postCode\r\n      this.$xttp.get(`/user/property/${communityId}/user-list`,{params:{postCode:postCode}})\r\n          .then(res => {\r\n            if(res.success) {\r\n              this.emplData = res.data\r\n             \r\n              \r\n            }\r\n          })\r\n    },\r\n    initClass() {\r\n      let postCode = this.form.postCode;\r\n      let communityId = this.$store.getters.communityId;\r\n      let params = {};\r\n      params['communityId'] = communityId;\r\n      params['postCode'] = postCode;\r\n      this.$xttp.post(`/task/class/page`,params)\r\n      .then(res => {\r\n        if(res.success) {\r\n          if(res.data.total == 0){\r\n            this.isSee = false;\r\n          }\r\n          else{\r\n            this.isSee = true;\r\n            this.classData = res.data.records;\r\n          }\r\n        }\r\n      })\r\n    },\r\n    changeRadio() {\r\n      this.isShow = true;\r\n      let obj = this.classData.find(item => this.form.class == item.name);\r\n      let id = obj.id;\r\n      this.$xttp.get(`task/class/${id}/detail`)\r\n          .then(res => {\r\n            if( res.success) {\r\n              this.form.name = res.data.name;\r\n              this.form.attendTime = res.data.attendTime;\r\n              this.form.attendPlace = res.data.attendPlace;\r\n              this.form.offPlace = res.data.offPlace;\r\n              this.form.offTime = res.data.offTime;\r\n              this.form.task = res.data.task;\r\n              this.form.classId = id;\r\n            }\r\n          }).catch(err => {\r\n            console.log(err)\r\n          })\r\n      \r\n    },\r\n    save() {\r\n      if(this.form.empl == ''){\r\n        this.$message({message:'请选择员工',type:'warning'});\r\n        return;\r\n      }\r\n      if(this.form.class == ''){\r\n        this.$message({message:'请选择班次,如没有班次请先去创建班次',type:'warning'});\r\n        return;\r\n      }\r\n      this.postData();\r\n    },\r\n    postData() {\r\n      // let employeeId = this.form.empl;\r\n      let postCode = this.form.postCode;\r\n      let workDate = this.form.date;\r\n      let userId = this.form.empl;\r\n      // let userId = this.form.userId;\r\n      let communityId = this.$store.getters.communityId;\r\n      let propertyId = localStorage.getItem('propertyId');\r\n      let className = this.form.name;\r\n      let attendTimeStr = this.form.attendTimeStr;\r\n      let attendPlace = this.form.attendPlace;\r\n      let offTimeStr = this.form.offTimeStr;\r\n      let offPlace = this.form.offPlace;\r\n      let task = this.form.task;\r\n      let params = {};\r\n      // params['employeeId'] = employeeId;\r\n      params['classId'] = this.form.classId;\r\n      params['className'] = className;\r\n      params['postCode'] = postCode;\r\n      params['workDate'] = workDate;\r\n      params['userId'] = userId;\r\n      params['communityId'] = communityId;\r\n      params['propertyId'] = propertyId;\r\n      params['attendTimeStr'] = attendTimeStr;\r\n      params['attendPlace'] = attendPlace;\r\n      params['offTimeStr'] = offTimeStr;\r\n      params['offPlace'] = offPlace;\r\n      params['task'] = task;\r\n      \r\n      let msg = this.add ? \"编辑\" : \"添加\";\r\n      let uri = this.add\r\n        ? \"/task/schedule/edit\"\r\n        : \"/task/schedule/add\";\r\n      this.$xttp\r\n        .post(uri, params)\r\n        .then(res => {\r\n          if (res.errorCode === 0) {\r\n            this.$message({\r\n              message: msg + \"排班成功\",\r\n              type: \"success\"\r\n            });\r\n            this.current = 2;\r\n            this.handleClose();\r\n            this.$emit('reload');\r\n          } else {\r\n            this.$message({ message: res.data.errorMsg, type: \"error\" });\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    changePostCode(){\r\n      this.form.empl = '';\r\n      this.initEmpl();\r\n      this.initClass();\r\n      this.isShow = false;\r\n    }\r\n  },\r\n  created() {\r\n    \r\n    if(this.add) {\r\n      // 判定此时组件为 编辑\r\n      let id = this.add.id;\r\n      // this.form = this.add;\r\n      this.titleFont = \"编辑排班\";\r\n      let url = `/task/schedule/${id}/detail`;\r\n      this.$xttp.get(url).then(res => {\r\n        if(res.success) {\r\n          this.isSee = true;\r\n          this.isShow = true;\r\n          let records = res.data;\r\n\r\n          this.form.postCode = records.postCode;\r\n          if(records.postCode == 'CLEANER'){\r\n            this.form.postCode = '保洁'\r\n          } \r\n          if(records.postCode == 'SECURITY'){\r\n            this.form.postCode = '保安'\r\n          }\r\n          if(records.postCode == 'MANAGER'){\r\n            this.form.postCode = '物业管理员'\r\n          } \r\n          if(records.postCode == 'SERVICEMAN'){\r\n            this.form.postCode = '维修工'\r\n          }\r\n          if(records.postCode == 'SUPPORTSTAFF'){\r\n            this.form.postCode = '客服人员'\r\n          }\r\n          this.initEmpl();\r\n\r\n          this.form.empl = records.userName;\r\n          this.form.emplId = records.userId;\r\n          this.form.name = records.className;\r\n          this.form.offPlace = records.offPlace;\r\n          this.form.offTimeStr = records.offTimeStr;\r\n          this.form.attendTimeStr = records.attendTimeStr;\r\n          this.form.attendPlace = records.attendPlace;\r\n          this.form.task = records.task;\r\n          this.form.remark = records.remark;\r\n          this.form.class = this.add.className;\r\n          // this.initPost();\r\n          // this.initClass();\r\n          \r\n          this.form.date = time.timestampToTime(records.workDate);\r\n          this.checked = true;\r\n          this.disabled1 = true;\r\n          this.disabledPost = true;\r\n          this.editDate = true;\r\n        }\r\n      })\r\n    }else{\r\n      this.initPost();\r\n      this.disabled1 = false;\r\n      this.initEmpl();\r\n      this.initClass();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.el-radio+.el-radio{\r\n  margin-left: 0;\r\n  padding: 10px 5px;\r\n  min-width: 100px;\r\n  display: inline-block;\r\n  margin-top: 20px;\r\n}\r\n.el-input{\r\n  width: 200px;\r\n}\r\n.el-radio-group{\r\n}\r\n.el-radio.is-bordered+.el-radio.is-bordered{\r\n  margin-right: 10px;\r\n}\r\n.el-radio.is-bordered{\r\n  height: 40px;\r\n}\r\n.el-radio.is-bordered[data-v-e77d2842]{\r\n  margin-right: 10px;\r\n  margin-top: 0px;\r\n  margin-bottom: 10px;\r\n}\r\n  \r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/home/nav/property_manage/schedul/add.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.titleFont,\"visible\":_vm.msg,\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.msg=$event}}},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"rules\":_vm.rules,\"model\":_vm.form}},[_c('el-row',{staticClass:\"row-bg\",attrs:{\"gutter\":20,\"type\":\"flex\",\"justify\":\"space-around\"}},[_c('el-col',{attrs:{\"span\":10}},[_c('el-form-item',{attrs:{\"label\":\"日期：\",\"prop\":\"date\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"disabled\":_vm.editDate,\"value-format\":\"yyyy-MM-dd\",\"format\":\"yyyy-MM-dd\",\"placeholder\":\"请选择日期\"},model:{value:(_vm.form.date),callback:function ($$v) {_vm.$set(_vm.form, \"date\", $$v)},expression:\"form.date\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":10}},[_c('el-form-item',{attrs:{\"label\":\"岗位：\",\"prop\":\"postCode\"}},[_c('el-select',{attrs:{\"placeholder\":\"岗位\",\"disabled\":_vm.disabledPost},on:{\"change\":function($event){_vm.changePostCode()}},model:{value:(_vm.form.postCode),callback:function ($$v) {_vm.$set(_vm.form, \"postCode\", $$v)},expression:\"form.postCode\"}},_vm._l((_vm.postOptions),function(item){return _c('el-option',{key:item.key,attrs:{\"label\":item.name,\"value\":item.key}})}))],1)],1)],1),_vm._v(\" \"),_c('hr',{staticStyle:{\"height\":\"1px\",\"border\":\"none\",\"border-top\":\"1px dashed #cecece\"}}),_vm._v(\" \"),_c('el-form-item',{staticClass:\"c-must\",staticStyle:{\"display\":\"block\",\"margin-top\":\"25px\"},attrs:{\"label\":\"员工：\",\"prop\":\"empl\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择员工\",\"disabled\":_vm.disabledPost},on:{\"change\":_vm.changEmpl},model:{value:(_vm.form.empl),callback:function ($$v) {_vm.$set(_vm.form, \"empl\", $$v)},expression:\"form.empl\"}},_vm._l((_vm.emplData),function(item){return _c('el-option',{key:item.userId,attrs:{\"label\":item.userName,\"value\":item.userId}})}))],1),_vm._v(\" \"),(_vm.isSee)?_c('el-form-item',{staticClass:\"c-must\",staticStyle:{\"display\":\"block\",\"margin-top\":\"25px\",\"float\":\"left\"},attrs:{\"label\":\"班次：\",\"prop\":\"class\"}},[_c('el-radio-group',{model:{value:(_vm.form.class),callback:function ($$v) {_vm.$set(_vm.form, \"class\", $$v)},expression:\"form.class\"}},_vm._l((_vm.classData),function(item){return _c('el-radio',{key:item.name,attrs:{\"checked\":_vm.checked,\"label\":item.name,\"border\":\"\"},on:{\"change\":_vm.changeRadio}})}))],1):_vm._e(),_vm._v(\" \"),(_vm.isShow)?_c('el-form-item',[_c('el-row',{staticClass:\"row-bg\",attrs:{\"gutter\":24,\"type\":\"flex\",\"justify\":\"space-around\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"班次名称\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-time-select',{attrs:{\"placeholder\":\"出勤时间\",\"picker-options\":{\n                start: '00:00',\n                step: '00:05',\n                end: '24:00'\n                }},model:{value:(_vm.form.attendTimeStr),callback:function ($$v) {_vm.$set(_vm.form, \"attendTimeStr\", $$v)},expression:\"form.attendTimeStr\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-time-select',{attrs:{\"placeholder\":\"退勤时间\",\"picker-options\":{\n                start: '00:00',\n                step: '00:05',\n                end: '24:00'\n                }},model:{value:(_vm.form.offTimeStr),callback:function ($$v) {_vm.$set(_vm.form, \"offTimeStr\", $$v)},expression:\"form.offTimeStr\"}})],1)],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"出勤地点\"},model:{value:(_vm.form.attendPlace),callback:function ($$v) {_vm.$set(_vm.form, \"attendPlace\", $$v)},expression:\"form.attendPlace\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"退勤地点\"},model:{value:(_vm.form.offPlace),callback:function ($$v) {_vm.$set(_vm.form, \"offPlace\", $$v)},expression:\"form.offPlace\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"任务\"},model:{value:(_vm.form.task),callback:function ($$v) {_vm.$set(_vm.form, \"task\", $$v)},expression:\"form.task\"}})],1)],1)],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"margin-top\":\"20px\",\"margin-left\":\"40%\"},attrs:{\"label-width\":_vm.formLabelWidth}},[_c('el-button',{on:{\"click\":_vm.handleClose}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6b047480\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/home/nav/property_manage/schedul/add.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6b047480\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./add.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6b047480\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6b047480\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/home/nav/property_manage/schedul/add.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"排班详情\",\"visible\":_vm.msg,\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.msg=$event}}},[_c('ul',[_c('li',{staticClass:\"c-list\"},[_c('span',{staticClass:\"c-label\"},[_vm._v(\"员工:\")]),_vm._v(\" \"),_c('span',{staticClass:\"c-content\"},[_vm._v(\" \"+_vm._s(_vm.data.userName)+\" \")])]),_vm._v(\" \"),_c('li',{staticClass:\"c-list\"},[_c('span',{staticClass:\"c-label\"},[_vm._v(\"班次:\")]),_vm._v(\" \"),_c('span',{staticClass:\"c-content\"},[_vm._v(\" \"+_vm._s(_vm.data.className)+\" \")])]),_vm._v(\" \"),_c('li',{staticClass:\"c-list\"},[_c('span',{staticClass:\"c-label\"},[_vm._v(\"角色:\")]),_vm._v(\" \"),_c('span',{staticClass:\"c-content\"},[_vm._v(\" \"+_vm._s(_vm._f(\"postCode\")(_vm.data.postCode))+\" \")])]),_vm._v(\" \"),_c('li',{staticClass:\"c-list\"},[_c('span',{staticClass:\"c-label\"},[_vm._v(\"创建时间:\")]),_vm._v(\" \"),_c('span',{staticClass:\"c-content\"},[_vm._v(\" \"+_vm._s(_vm._f(\"time\")(_vm.data.updateAt,'yyyy-MM-dd HH:mm:ss'))+\" \")])]),_vm._v(\" \"),_c('li',{staticClass:\"c-list\"},[_c('span',{staticClass:\"c-label\"},[_vm._v(\"使用状态:\")]),_vm._v(\" \"),_c('span',{staticClass:\"c-content\"},[_vm._v(\" \"+_vm._s(_vm._f(\"dataStatus\")(_vm.data.dataStatus))+\" \")])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7cf4decc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/home/nav/property_manage/schedul/see.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7cf4decc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./see.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./see.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./see.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7cf4decc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./see.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7cf4decc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/home/nav/property_manage/schedul/see.vue\n// module id = null\n// module chunks = ","<template>\r\n    <el-dialog title=\"排班详情\" :visible.sync=\"msg\" :before-close=\"handleClose\">\r\n        <ul>\r\n            <li class=\"c-list\"><span class=\"c-label\">员工:</span> <span class=\"c-content\"> {{ data.userName }} </span></li>\r\n            <li class=\"c-list\"><span class=\"c-label\">班次:</span> <span class=\"c-content\"> {{ data.className }} </span></li>\r\n            <li class=\"c-list\"><span class=\"c-label\">角色:</span> <span class=\"c-content\"> {{ data.postCode | postCode }} </span></li>\r\n            <li class=\"c-list\"><span class=\"c-label\">创建时间:</span> <span class=\"c-content\"> {{ data.updateAt | time('yyyy-MM-dd HH:mm:ss') }} </span></li>\r\n            <li class=\"c-list\"><span class=\"c-label\">使用状态:</span> <span class=\"c-content\"> {{ data.dataStatus | dataStatus }} </span></li>\r\n        </ul>  \r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"EmplSee\",\r\n  data() {\r\n    return {\r\n        arr:[1,2,4,5]\r\n    }\r\n  },\r\n  props: [\"msg\",\"data\"],\r\n  created(){\r\n  },\r\n  methods:{\r\n      handleClose() {\r\n        this.$emit(\"upsee\", false );\r\n      }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .c-list {\r\n        margin-bottom: 15px;\r\n        .c-label {\r\n            display: inline-block;\r\n            width: 100px;\r\n            text-align:right;\r\n        }\r\n        .c-content {\r\n            display: inline-block;\r\n            margin-left: 15px;\r\n            font-weight: bold;\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/page/home/nav/property_manage/schedul/see.vue","<template>\r\n      <el-dialog :title=\"titleFont\" :visible.sync=\"msg\" :before-close=\"handleClose\">\r\n        <!-- <div class=\"c-search\"> -->\r\n          <el-form :inline=\"true\" :rules=\"rules\" :model=\"form\" class=\"demo-form-inline\">\r\n            <el-row :gutter=\"20\" type=\"flex\" class=\"row-bg\" justify=\"space-around\">\r\n              <el-col :span=\"10\">\r\n                <el-form-item label=\"日期：\" prop=\"date\">\r\n                  <el-date-picker v-model=\"form.date\" type=\"date\" :disabled=\"editDate\" value-format=\"yyyy-MM-dd\" format=\"yyyy-MM-dd\" placeholder=\"请选择日期\">\r\n                  </el-date-picker>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"10\">\r\n                <el-form-item label=\"岗位：\" prop=\"postCode\">\r\n                  <el-select v-model=\"form.postCode\" @change=\"changePostCode()\" placeholder=\"岗位\" :disabled=\"disabledPost\">\r\n                    <el-option v-for=\"item in postOptions\" :key=\"item.key\" :label=\"item.name\" :value=\"item.key\">\r\n                    </el-option>\r\n                  </el-select>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n\r\n            <hr style=\"height:1px;border:none;border-top:1px dashed #cecece;\" />\r\n\r\n            <el-form-item label=\"员工：\" prop=\"empl\" class=\"c-must\" style=\"display:block;margin-top:25px;\">\r\n              <!-- <el-select v-model=\"form.empl\" placeholder=\"请选择员工\" @change=\"changEmpl\" :disabled=\"disabledPost\">\r\n                <el-option v-for=\"(item , indexs) in emplData\" :key=\"item.userId\" :label=\"item.userName\" :value=\"indexs\">\r\n                </el-option>\r\n              </el-select> -->\r\n              <el-select v-model=\"form.empl\" placeholder=\"请选择员工\" @change=\"changEmpl\" :disabled=\"disabledPost\">\r\n                <el-option v-for=\"item in emplData\" :key=\"item.userId\" :label=\"item.userName\" :value=\"item.userId\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"班次：\" prop=\"class\" class=\"c-must\" style=\"display:block;margin-top:25px;float:left;\">\r\n              <el-radio-group v-model=\"form.class\">\r\n                <el-radio @change=\"changeRadio\" :checked=\"checked\" :label=\"item.name\" :key=\"item.name\" v-for=\"(item) in classData\" border></el-radio>\r\n                <!-- <el-radio @change=\"changeRadio\" :checked=\"checked\" :label=\"item.name\" :value=\"item.id\" :key=\"item.name\" v-for=\"(item) in classData\" border></el-radio> -->\r\n              </el-radio-group>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-row :gutter=\"24\" type=\"flex\" class=\"row-bg\" justify=\"space-around\">\r\n                <el-col :span=\"8\">\r\n                  <el-input placeholder=\"班次名称\" v-model=\"form.name\"></el-input>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-time-select placeholder=\"出勤时间\" v-model=\"form.attendTimeStr\" :picker-options=\"{\r\n                    start: '00:00',\r\n                    step: '00:05',\r\n                    end: '24:00'\r\n                    }\">\r\n                  </el-time-select>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-time-select placeholder=\"退勤时间\" v-model=\"form.offTimeStr\" :picker-options=\"{\r\n                    start: '00:00',\r\n                    step: '00:05',\r\n                    end: '24:00'\r\n                    }\">\r\n                  </el-time-select>\r\n                </el-col>\r\n              </el-row>\r\n              <el-row :gutter=\"20\" style=\"margin-top:20px;\">\r\n                <el-col :span=\"8\">\r\n                  <el-input placeholder=\"出勤地点\" v-model=\"form.attendPlace\"></el-input>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-input placeholder=\"退勤地点\" v-model=\"form.offPlace\"></el-input>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-input placeholder=\"任务\" v-model=\"form.task\"></el-input>\r\n                </el-col>\r\n              </el-row>\r\n            </el-form-item>\r\n           \r\n            <el-form-item :label-width=\"formLabelWidth\" style=\"margin-top:20px;margin-left:40%;\" >\r\n              <el-button @click=\"handleClose\">取 消</el-button>\r\n              <el-button type=\"primary\" @click=\"save\">保存</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        <!-- </div>        -->\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport time from '@/utils/time.js';\r\nexport default {\r\n  name: \"SchedulEdit\",\r\n  data() {\r\n    return {\r\n      formLabelWidth: \"120px\",\r\n      titleFont:'修改排班',\r\n      checked: false,\r\n      disabledPost: true,\r\n      disabled1: true,\r\n      editDate: true,\r\n      form: {\r\n          id: '',\r\n        postCode: 'SECURITY',\r\n        date: '',\r\n        empl: '',\r\n        class: '',\r\n        name: '',\r\n        attendTimeStr: '',\r\n        offTimeStr: '',\r\n        task:'',\r\n        attendPlace: '',\r\n        offPlace: '',\r\n        classId: ''\r\n      },\r\n      rules: {\r\n        empl: [{ required: true, message: \"请选中员工\", trigger: \"blur\" }],\r\n        class: [{ required: true, message: \"请选中班次\", trigger: \"blur\" }]\r\n      },\r\n      postOptions: [],\r\n      emplData: [],\r\n      classData: []\r\n    };\r\n  },\r\n  props: [\"msg\",\"edit\",'editData'],\r\n  mounted() {},\r\n  methods: {\r\n    handleClose() {\r\n      this.$emit(\"upedit\", false);\r\n    },\r\n    changEmpl(value){\r\n      this.form.empl = value;\r\n    },\r\n    initPost(){\r\n      let communityId = this.$store.getters.communityId\r\n      this.$xttp.get(`/user/property/${communityId}/post-list`).then(res => {\r\n        if(!res.errorCode) {\r\n          this.postOptions = res.data;\r\n        }\r\n      })\r\n    },\r\n    initEmpl() {\r\n      let communityId = this.$store.getters.communityId\r\n      let postCode = this.form.postCode\r\n      this.$xttp.get(`/user/property/${communityId}/user-list`,{params:{postCode:postCode}})\r\n          .then(res => {\r\n            if(res.success) {\r\n              this.emplData = res.data\r\n            }\r\n          })\r\n    },\r\n    initClass() {\r\n      let postCode = this.form.postCode;\r\n      let communityId = this.$store.getters.communityId;\r\n      let params = {};\r\n      params['communityId'] = communityId;\r\n      params['postCode'] = postCode;\r\n      this.$xttp.post(`/task/class/page`,params)\r\n      .then(res => {\r\n        if(res.success) {\r\n            this.classData = res.data.records;\r\n        }\r\n      })\r\n    },\r\n    changeRadio() {\r\n      let obj = this.classData.find(item => this.form.class == item.name);\r\n      let id = obj.id;\r\n      this.$xttp.get(`task/class/${id}/detail`)\r\n          .then(res => {\r\n            if( res.success) {\r\n              this.form.name = res.data.name;\r\n              this.form.attendTime = res.data.attendTime;\r\n              this.form.attendPlace = res.data.attendPlace;\r\n              this.form.offPlace = res.data.offPlace;\r\n              this.form.offTime = res.data.offTime;\r\n              this.form.task = res.data.task;\r\n              this.form.classId = id;\r\n            //   this.form.postCode = res.data.postCode;\r\n            }\r\n          }).catch(err => {\r\n            console.log(err)\r\n          })\r\n      \r\n    },\r\n    save() {\r\n      if(this.form.empl == ''){\r\n        this.$message({message:'请选择员工',type:'warning'});\r\n        return;\r\n      }\r\n      if(this.form.class == ''){\r\n        this.$message({message:'请选择班次,如没有班次请先去创建班次',type:'warning'});\r\n        return;\r\n      }\r\n      this.postData();\r\n    },\r\n    postData() {\r\n      let id = this.form.id;\r\n      let postCode = this.form.postCode;\r\n      let objPost = this.postOptions.find(item => this.form.postCode == item.name);\r\n      postCode = objPost.key;\r\n      let workDate = time.timestampToFormat(this.form.date1,'yyyy-MM-dd');\r\n      let userId = this.form.userId;\r\n      let communityId = this.$store.getters.communityId;\r\n      let propertyId = localStorage.getItem('propertyId');\r\n      let className = this.form.name;\r\n      let objClass = this.classData.find(item => this.form.class == item.name);\r\n      let classId = objClass.id;\r\n      let attendTimeStr = this.form.attendTimeStr;\r\n      let attendPlace = this.form.attendPlace;\r\n      let offTimeStr = this.form.offTimeStr;\r\n      let offPlace = this.form.offPlace;\r\n      let task = this.form.task;\r\n      let params = {};\r\n      params['id'] = id;\r\n      params['classId'] = classId;\r\n      params['className'] = className;\r\n      params['postCode'] = postCode;\r\n      params['workDate'] = workDate;\r\n      params['userId'] = userId;\r\n      params['communityId'] = communityId;\r\n      params['propertyId'] = propertyId;\r\n      params['attendTimeStr'] = attendTimeStr;\r\n      params['attendPlace'] = attendPlace;\r\n      params['offTimeStr'] = offTimeStr;\r\n      params['offPlace'] = offPlace;\r\n      params['task'] = task;\r\n      \r\n      let uri = \"/task/schedule/edit\"\r\n      this.$xttp\r\n        .post(uri, params)\r\n        .then(res => {\r\n          if (res.errorCode === 0) {\r\n            this.$message({\r\n              message: \"修改排班成功\",\r\n              type: \"success\"\r\n            });\r\n            this.handleClose();\r\n            this.$emit('reload');\r\n          } else {\r\n            this.$message({ message: res.data.errorMsg, type: \"error\" });\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  },\r\n  created() {\r\n      let id = this.edit.id;\r\n      let url = `/task/schedule/${id}/detail`;\r\n\r\n      this.$xttp.get(url).then(res => {\r\n        if(res.success) {\r\n          let records = res.data;\r\n          this.form.id = records.id;\r\n          this.form.date = time.timestampToTime(records.workDate);\r\n          this.form.date1 = records.workDate;\r\n\r\n          this.form.postCode = records.postCode;\r\n          this.form.name = records.className;\r\n          this.form.userId = records.userId;\r\n          \r\n          this.form.offPlace = records.offPlace;\r\n          this.form.offTimeStr = records.offTimeStr;\r\n          this.form.attendTimeStr = records.attendTimeStr;\r\n          this.form.attendPlace = records.attendPlace;\r\n          this.form.task = records.task;\r\n          this.form.remark = records.remark;\r\n          this.initClass();\r\n          this.initPost();\r\n          this.form.empl = records.userName;\r\n          this.form.class = records.className;\r\n          this.form.classId = records.classId;\r\n          if(this.form.postCode == 'CLEANER'){\r\n            this.form.postCode = '保洁'\r\n          } \r\n          if(this.form.postCode == 'SECURITY'){\r\n            this.form.postCode = '保安';\r\n          }\r\n          if(this.form.postCode == 'MANAGER'){\r\n            this.form.postCode = '物业管理员'\r\n          } \r\n          if(this.form.postCode == 'SERVICEMAN'){\r\n            this.form.postCode = '维修工'\r\n          }\r\n          if(this.form.postCode == 'SUPPORTSTAFF'){\r\n            this.form.postCode = '客服人员'\r\n          }\r\n          \r\n        }\r\n        this.loading = false;\r\n      }).catch(err => {\r\n          this.loading = false;\r\n        });\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.el-radio+.el-radio{\r\n  margin-left: 0;\r\n  padding: 10px 5px;\r\n  min-width: 100px;\r\n  display: inline-block;\r\n  margin-top: 20px;\r\n}\r\n.el-input{\r\n  width: 200px;\r\n}\r\n.el-radio-group{\r\n}\r\n.el-radio.is-bordered+.el-radio.is-bordered{\r\n  margin-right: 10px;\r\n}\r\n.el-radio.is-bordered{\r\n  height: 40px;\r\n}\r\n.el-radio.is-bordered[data-v-e77d2842]{\r\n  margin-right: 10px;\r\n  margin-top: 0px;\r\n  margin-bottom: 10px;\r\n}\r\n  \r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/home/nav/property_manage/schedul/edit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.titleFont,\"visible\":_vm.msg,\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.msg=$event}}},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"rules\":_vm.rules,\"model\":_vm.form}},[_c('el-row',{staticClass:\"row-bg\",attrs:{\"gutter\":20,\"type\":\"flex\",\"justify\":\"space-around\"}},[_c('el-col',{attrs:{\"span\":10}},[_c('el-form-item',{attrs:{\"label\":\"日期：\",\"prop\":\"date\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"disabled\":_vm.editDate,\"value-format\":\"yyyy-MM-dd\",\"format\":\"yyyy-MM-dd\",\"placeholder\":\"请选择日期\"},model:{value:(_vm.form.date),callback:function ($$v) {_vm.$set(_vm.form, \"date\", $$v)},expression:\"form.date\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":10}},[_c('el-form-item',{attrs:{\"label\":\"岗位：\",\"prop\":\"postCode\"}},[_c('el-select',{attrs:{\"placeholder\":\"岗位\",\"disabled\":_vm.disabledPost},on:{\"change\":function($event){_vm.changePostCode()}},model:{value:(_vm.form.postCode),callback:function ($$v) {_vm.$set(_vm.form, \"postCode\", $$v)},expression:\"form.postCode\"}},_vm._l((_vm.postOptions),function(item){return _c('el-option',{key:item.key,attrs:{\"label\":item.name,\"value\":item.key}})}))],1)],1)],1),_vm._v(\" \"),_c('hr',{staticStyle:{\"height\":\"1px\",\"border\":\"none\",\"border-top\":\"1px dashed #cecece\"}}),_vm._v(\" \"),_c('el-form-item',{staticClass:\"c-must\",staticStyle:{\"display\":\"block\",\"margin-top\":\"25px\"},attrs:{\"label\":\"员工：\",\"prop\":\"empl\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择员工\",\"disabled\":_vm.disabledPost},on:{\"change\":_vm.changEmpl},model:{value:(_vm.form.empl),callback:function ($$v) {_vm.$set(_vm.form, \"empl\", $$v)},expression:\"form.empl\"}},_vm._l((_vm.emplData),function(item){return _c('el-option',{key:item.userId,attrs:{\"label\":item.userName,\"value\":item.userId}})}))],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"c-must\",staticStyle:{\"display\":\"block\",\"margin-top\":\"25px\",\"float\":\"left\"},attrs:{\"label\":\"班次：\",\"prop\":\"class\"}},[_c('el-radio-group',{model:{value:(_vm.form.class),callback:function ($$v) {_vm.$set(_vm.form, \"class\", $$v)},expression:\"form.class\"}},_vm._l((_vm.classData),function(item){return _c('el-radio',{key:item.name,attrs:{\"checked\":_vm.checked,\"label\":item.name,\"border\":\"\"},on:{\"change\":_vm.changeRadio}})}))],1),_vm._v(\" \"),_c('el-form-item',[_c('el-row',{staticClass:\"row-bg\",attrs:{\"gutter\":24,\"type\":\"flex\",\"justify\":\"space-around\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"班次名称\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-time-select',{attrs:{\"placeholder\":\"出勤时间\",\"picker-options\":{\n                start: '00:00',\n                step: '00:05',\n                end: '24:00'\n                }},model:{value:(_vm.form.attendTimeStr),callback:function ($$v) {_vm.$set(_vm.form, \"attendTimeStr\", $$v)},expression:\"form.attendTimeStr\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-time-select',{attrs:{\"placeholder\":\"退勤时间\",\"picker-options\":{\n                start: '00:00',\n                step: '00:05',\n                end: '24:00'\n                }},model:{value:(_vm.form.offTimeStr),callback:function ($$v) {_vm.$set(_vm.form, \"offTimeStr\", $$v)},expression:\"form.offTimeStr\"}})],1)],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"出勤地点\"},model:{value:(_vm.form.attendPlace),callback:function ($$v) {_vm.$set(_vm.form, \"attendPlace\", $$v)},expression:\"form.attendPlace\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"退勤地点\"},model:{value:(_vm.form.offPlace),callback:function ($$v) {_vm.$set(_vm.form, \"offPlace\", $$v)},expression:\"form.offPlace\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"任务\"},model:{value:(_vm.form.task),callback:function ($$v) {_vm.$set(_vm.form, \"task\", $$v)},expression:\"form.task\"}})],1)],1)],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"margin-top\":\"20px\",\"margin-left\":\"40%\"},attrs:{\"label-width\":_vm.formLabelWidth}},[_c('el-button',{on:{\"click\":_vm.handleClose}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2bc136df\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/home/nav/property_manage/schedul/edit.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2bc136df\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./edit.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./edit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./edit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2bc136df\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./edit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2bc136df\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/home/nav/property_manage/schedul/edit.vue\n// module id = null\n// module chunks = ","<template>\r\n    <el-main>\r\n      <div>\r\n        <ul class=\"c-navDetail clear\">\r\n          <li v-for=\"(nav, index) in navDetailData\" :key=\"index\">{{ nav.name }} <span v-if=\"index !== navDetailData.length -  1\"> > </span></li>\r\n        </ul>\r\n        <div class=\"c-search\">\r\n          <el-form :inline=\"true\" :model=\"formInline\" class=\"demo-form-inline\">\r\n            <el-form-item label=\"时间：\">\r\n              <el-date-picker\r\n                v-model=\"formInline.rangeDate\"\r\n                type=\"daterange\"\r\n                align=\"right\"\r\n                @change=\"changeRangeDate\"\r\n                format=\"yyyy 年 MM 月 dd 日\"\r\n                value-format=\"yyyy-MM-dd\"\r\n                unlink-panels\r\n                range-separator=\"至\"\r\n                start-placeholder=\"开始日期\"\r\n                end-placeholder=\"结束日期\"\r\n                :picker-options=\"pickerOptions\">\r\n              </el-date-picker>\r\n            </el-form-item>\r\n            <el-form-item label=\"\">\r\n              <el-select v-model=\"formInline.post\" placeholder=\"请选项岗位\" @change=\"changePostCode\">\r\n                <el-option v-for=\"item in postOptions\" :key=\"item.key\" :label=\"item.name\" :value=\"item.key\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <!-- <el-button type=\"primary\" @click=\"find\"><i class=\"iconfont icon-sousuo\">&nbsp;</i>查询</el-button> -->\r\n              <el-button type=\"primary\" @click=\"find\">查询</el-button>\r\n              <!-- <el-button type=\"success\" plain @click=\"keySchedul\">一键排班</el-button> -->\r\n            </el-form-item>\r\n          </el-form>\r\n          <el-button type=\"primary\" class=\"c-addBtn\" @click=\"onSubmit\">新增排班</el-button>\r\n        </div>\r\n      </div>\r\n      \r\n      <el-table class=\"c-table\" :data=\"tableData\" v-loading=\"loading\" element-loading-text=\"加载中...\" border highlight-current-row ref=\"multipleTable\" style=\"width: 100%\">\r\n        <el-table-column label=\"序号\" width=\"80\" align=\"center\">\r\n          <template slot-scope=\"scope\">{{(currentPage-1) * pageSize + scope.$index + 1}}</template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"id\" v-if=\"show\"></el-table-column>\r\n        <el-table-column prop=\"userId\" v-if=\"show\"></el-table-column>\r\n        <el-table-column prop=\"\" label=\"值班日\" width=\"200\" align=\"center\">\r\n          <template slot-scope=\"scope\">{{getTime(scope.row.workDate, 'yyyy-MM-dd')}}</template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"userName\" label=\"员工\" align=\"center\" width=\"150\"></el-table-column>\r\n        <el-table-column prop=\"\" label=\"班次\" width=\"200\" align=\"center\">\r\n          <template slot-scope=\"scope\">{{scope.row.className}}({{scope.row.attendTimeStr}}-{{scope.row.offTimeStr}})</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"岗位\" min-width=\"120\" align=\"center\" :show-overflow-tooltip=\"true\">\r\n          <template slot-scope=\"scope\">{{ scope.row.postCode | postCode}}</template>\r\n        </el-table-column>\r\n        <el-table-column fixed=\"right\" label=\"操作\" align=\"center\" width=\"180\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- <el-button type=\"primary\" size=\"mini\" @click=\"handleClick(scope.row)\">查看</el-button> -->\r\n            <el-button type=\"warning\" size=\"mini\" @click=\"editHandle(scope.row)\">编辑</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"c-block\">\r\n        <el-pagination\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"currentPage\"\r\n          :page-size=\"pageSize\"\r\n          layout=\"total, prev, pager, next, jumper\"\r\n          :total=\"total\">\r\n        </el-pagination>\r\n      </div>\r\n      <transition name=\"show\">\r\n        <AddPage v-if=\"isShow\" :msg=\"isShow\" @upup=\"change\" @reload=\"sendAjax\" :add.sync=\"notice\"></AddPage>\r\n      </transition>\r\n      <transition name=\"edit\">\r\n        <EditPage v-if=\"isEdit\" :msg=\"isEdit\" @upedit=\"editChange\" @reload=\"sendAjax\" :edit.sync=\"editData\"></EditPage>\r\n      </transition>\r\n      <transition name=\"see\">\r\n        <SeePage v-if=\"see\" :msg=\"see\" @upsee=\"seeChange\"  :data=\"seeData\"></SeePage>\r\n      </transition>\r\n\r\n      <el-dialog title=\"温馨提示\" :visible.sync=\"visible2\">\r\n          <p>请问您是否确定删除这条数据吗？</p>\r\n          <div style=\"text-align: right; margin: 0\">\r\n            <el-button size=\"mini\" type=\"text\" @click=\"visible2 = false\">取消</el-button>\r\n            <el-button type=\"primary\" size=\"mini\" @click=\"confirmDel\">确定</el-button>\r\n          </div>\r\n      </el-dialog>\r\n    </el-main>\r\n</template>\r\n\r\n<script>\r\nimport AddPage from \"./add\";\r\nimport SeePage from \"./see\";\r\nimport EditPage from './edit';\r\nimport { mapGetters } from \"vuex\";\r\nimport time from '@/utils/time.js';\r\n\r\nexport default {\r\n  name: \"schedul\",\r\n  data() {\r\n    return {\r\n      show: false,\r\n      postOptions: [],\r\n      isSou: false,\r\n      tableData: [],\r\n      navDetailData: [\r\n        { id: 0, name: \"物业管理\" },\r\n        { id: 1, name: \"作业管理\" },\r\n        { id: 2, name: \"排班管理\" }\r\n      ],\r\n      formInline: {\r\n        rangeDate: '',\r\n        post: 'SECURITY',\r\n        date: ''\r\n      },\r\n      pickerOptions: {\r\n        shortcuts: [{\r\n        text: '最近一周',\r\n        onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n            picker.$emit('pick', [start, end]);\r\n        }\r\n        }, {\r\n        text: '最近一个月',\r\n        onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n            picker.$emit('pick', [start, end]);\r\n        }\r\n        }, {\r\n        text: '最近三个月',\r\n        onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n            picker.$emit('pick', [start, end]);\r\n        }\r\n        }]\r\n      },\r\n      total: 0,//列表总数\r\n      pageSize:10,\r\n      currentPage: 1,\r\n      loading: false,\r\n      //添加\r\n      isShow: false, //控制添加页面弹出\r\n      notice:null,//编辑传送的值\r\n      //查看\r\n      see:false,//控制查看组件弹出\r\n      seeData:null,//查看数据\r\n      //删除\r\n      visible2:false,//控制删除框\r\n      delData:null,\r\n      // 修改\r\n      isEdit: false,\r\n      editData: null\r\n    };\r\n  },\r\n  computed: mapGetters([\"showAside\"]),\r\n  components: {\r\n    AddPage,\r\n    SeePage,\r\n    EditPage\r\n  },\r\n  methods: {\r\n    onSubmit() {//添加按钮\r\n      this.notice = null;\r\n      this.isShow = !this.isShow;\r\n    },\r\n    getTime(timestamp, format) {\r\n      return time.timestampToFormat(timestamp, format);\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.sendAjax(val);\r\n    },\r\n    handleCreate(){\r\n      // this.notice = null;\r\n      this.isShow = !this.isShow;\r\n    },\r\n    handleClick(row) {\r\n      //查看\r\n      this.see = true;\r\n      this.seeData = row;\r\n    },\r\n    editHandle(row) {\r\n      //编辑\r\n      this.isEdit = true;\r\n      this.editData = row;\r\n      // this.isShow = true;\r\n      // this.notice = row;\r\n    },\r\n    change(msg) {//与添加弹窗交互\r\n      if(msg == 1) {\r\n        this.isShow = false;\r\n      }\r\n      else if(msg == 2 || msg == 3) {\r\n        // this.sendAjax();\r\n        this.isShow = false;\r\n      }\r\n    },\r\n    seeChange(msg) {//与查看弹窗交互\r\n      this.see = false;\r\n    },\r\n    editChange(msg){\r\n      this.isEdit = false;\r\n    },\r\n    changeDate() {\r\n      this.sendAjax();\r\n    },\r\n    changePostCode() {\r\n      this.sendAjax();\r\n    },\r\n    find(){\r\n      this.sendAjax(null,this.formInline.name);\r\n    },\r\n    delHandle(row) {\r\n      this.visible2 = true;\r\n      this.delData = row; \r\n    },\r\n\r\n    changeRangeDate() {\r\n      this.sendAjax();\r\n    },\r\n    initPost(){\r\n      let communityId = this.$store.getters.communityId\r\n      this.$xttp.get(`/user/property/${communityId}/post-list`).then(res => {\r\n        if(!res.errorCode) {\r\n          this.postOptions = res.data;\r\n        }\r\n      })\r\n    },\r\n    confirmDel(){\r\n      if(this.delData.id){\r\n        this.$xttp.get(`/community/${this.delData.id}/delete`)\r\n        .then(res=> {\r\n          if(!res.errorCode){\r\n            this.visible2 = false;\r\n            this.delData = null;\r\n            this.$message({message:res.data,type:'success'});\r\n            this.find();\r\n          }\r\n        })\r\n      }\r\n    },\r\n    sendAjax(page) {\r\n      let nPage = page || this.$route.query.page || 1;\r\n      let communityId = this.$store.getters.communityId;\r\n      let rangeDate = this.formInline.rangeDate;\r\n      let startDate;\r\n      let endDate;\r\n      let postCode = this.formInline.post;\r\n      if(rangeDate == '' || rangeDate == 'undefined' || rangeDate == null){\r\n        startDate = '';\r\n        endDate = '';\r\n      }else{\r\n        startDate = rangeDate[0];\r\n        endDate = rangeDate[1];\r\n      }\r\n\r\n      let obj = {page:nPage,size:this.pageSize,communityId:communityId,postCode:postCode,startDate: startDate,endDate:endDate}\r\n      this.loading = true;\r\n      this.$xttp.post(\"task/schedule/page\",obj)\r\n      .then(res => {\r\n        if (res.success) {\r\n          this.tableData = res.data.records;\r\n          this.currentPage = res.data.currentPage;\r\n          this.total = res.data.total;\r\n          this.$router.push({path:this.$route.path,query:{page: nPage }})\r\n        }\r\n        this.loading = false;\r\n      }).catch(err => {\r\n        this.loading = false;\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    this.initPost();\r\n    this.sendAjax();\r\n  },\r\n  mounted() {\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.c-body {\r\n  width: 90%;\r\n  &.c-maxWidth {\r\n    max-width: calc(100vw - 200px);\r\n  }\r\n}\r\n.c-navDetail {\r\n  margin-bottom: 10px;\r\n  li {\r\n    float: left;\r\n    margin-right: 10px;\r\n  }\r\n}\r\n.c-block {\r\n  margin-top: 15px;\r\n}\r\n.c-search {\r\n  position: relative;\r\n  width: 100%;\r\n  .c-addBtn {\r\n    position: absolute;\r\n    right: 0px;\r\n    top: 0px;\r\n  }\r\n}\r\n// 切换动画\r\n.see-enter-active, .see-leave-active {\r\n  transition: all 0.5s ease;\r\n}\r\n       \r\n.see-enter, .see-leave-active {\r\n  opacity: 0;\r\n  transform: rotateY(180deg);\r\n}\r\n.edit-enter-active, .edit-leave-active {\r\n  transition: all 0.5s ease;\r\n}\r\n       \r\n.edit-enter, .edit-leave-active {\r\n  opacity: 0;\r\n  transform: rotateY(180deg);\r\n}\r\n.show-enter-active, .show-leave-active {\r\n  transition: all 0.5s ease;\r\n}\r\n       \r\n.show-enter, .show-leave-active {\r\n  opacity: 0;\r\n  transform: translateX(-500px);\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/home/nav/property_manage/schedul/schedul.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-main',[_c('div',[_c('ul',{staticClass:\"c-navDetail clear\"},_vm._l((_vm.navDetailData),function(nav,index){return _c('li',{key:index},[_vm._v(_vm._s(nav.name)+\" \"),(index !== _vm.navDetailData.length -  1)?_c('span',[_vm._v(\" > \")]):_vm._e()])})),_vm._v(\" \"),_c('div',{staticClass:\"c-search\"},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.formInline}},[_c('el-form-item',{attrs:{\"label\":\"时间：\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"align\":\"right\",\"format\":\"yyyy 年 MM 月 dd 日\",\"value-format\":\"yyyy-MM-dd\",\"unlink-panels\":\"\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"picker-options\":_vm.pickerOptions},on:{\"change\":_vm.changeRangeDate},model:{value:(_vm.formInline.rangeDate),callback:function ($$v) {_vm.$set(_vm.formInline, \"rangeDate\", $$v)},expression:\"formInline.rangeDate\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选项岗位\"},on:{\"change\":_vm.changePostCode},model:{value:(_vm.formInline.post),callback:function ($$v) {_vm.$set(_vm.formInline, \"post\", $$v)},expression:\"formInline.post\"}},_vm._l((_vm.postOptions),function(item){return _c('el-option',{key:item.key,attrs:{\"label\":item.name,\"value\":item.key}})}))],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.find}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('el-button',{staticClass:\"c-addBtn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"新增排班\")])],1)]),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"multipleTable\",staticClass:\"c-table\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"element-loading-text\":\"加载中...\",\"border\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"width\":\"80\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s((_vm.currentPage-1) * _vm.pageSize + scope.$index + 1))]}}])}),_vm._v(\" \"),(_vm.show)?_c('el-table-column',{attrs:{\"prop\":\"id\"}}):_vm._e(),_vm._v(\" \"),(_vm.show)?_c('el-table-column',{attrs:{\"prop\":\"userId\"}}):_vm._e(),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"值班日\",\"width\":\"200\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm.getTime(scope.row.workDate, 'yyyy-MM-dd')))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userName\",\"label\":\"员工\",\"align\":\"center\",\"width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"班次\",\"width\":\"200\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.className)+\"(\"+_vm._s(scope.row.attendTimeStr)+\"-\"+_vm._s(scope.row.offTimeStr)+\")\")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"岗位\",\"min-width\":\"120\",\"align\":\"center\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm._f(\"postCode\")(scope.row.postCode)))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"align\":\"center\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.editHandle(scope.row)}}},[_vm._v(\"编辑\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"c-block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"show\"}},[(_vm.isShow)?_c('AddPage',{attrs:{\"msg\":_vm.isShow,\"add\":_vm.notice},on:{\"upup\":_vm.change,\"reload\":_vm.sendAjax,\"update:add\":function($event){_vm.notice=$event}}}):_vm._e()],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"edit\"}},[(_vm.isEdit)?_c('EditPage',{attrs:{\"msg\":_vm.isEdit,\"edit\":_vm.editData},on:{\"upedit\":_vm.editChange,\"reload\":_vm.sendAjax,\"update:edit\":function($event){_vm.editData=$event}}}):_vm._e()],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"see\"}},[(_vm.see)?_c('SeePage',{attrs:{\"msg\":_vm.see,\"data\":_vm.seeData},on:{\"upsee\":_vm.seeChange}}):_vm._e()],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"温馨提示\",\"visible\":_vm.visible2},on:{\"update:visible\":function($event){_vm.visible2=$event}}},[_c('p',[_vm._v(\"请问您是否确定删除这条数据吗？\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin\":\"0\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){_vm.visible2 = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.confirmDel}},[_vm._v(\"确定\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6644e97e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/home/nav/property_manage/schedul/schedul.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6644e97e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./schedul.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./schedul.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./schedul.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6644e97e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./schedul.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6644e97e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/home/nav/property_manage/schedul/schedul.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
{"version":3,"sources":["webpack:///src/page/home/nav/businessManage/merchant/recommendForm.vue","webpack:///./src/page/home/nav/businessManage/merchant/recommendForm.vue?d3bd","webpack:///./src/page/home/nav/businessManage/merchant/recommendForm.vue","webpack:///src/page/home/nav/businessManage/merchant/recommend.vue","webpack:///./src/page/home/nav/businessManage/merchant/recommend.vue?2223","webpack:///./src/page/home/nav/businessManage/merchant/recommend.vue"],"names":["recommendForm","_this","this","edata","key","_this2","sendAjax","_this3","obj","then","res","file","merchant_recommendForm","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","titleFont","visible","msg","before-close","handleClose","on","update:visible","$event","ref","model","data","label-width","rules","prop","label","action","file-list","fileList","list-type","http-request","httpRequest","on-remove","removeFile","_v","size","value","callback","$$v","$set","expression","slot","type","click","submitForm","staticRenderFns","recommend","id","name","router","formPage","__webpack_require__","normalizeComponent","ssrContext","isShow","val","row","find","records","currentPage","total","merchant_recommend","_l","nav","index","_s","navDetailData","length","_e","inline","formInline","placeholder","onSubmit","directives","rawName","staticStyle","width","tableData","element-loading-text","border","highlight-current-row","align","scopedSlots","_u","fn","scope","pageSize","$index","min-width","show-overflow-tooltip","src","url","fixed","editHandle","delHandle","current-page","page-size","layout","current-change","handleCurrentChange","shopId","$route","query","notice","upList","change","visible2","text-align","margin","confirmDel","recommend_Component","recommend_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/23.836ba4714c4cf3135491.js","sourcesContent":["<template>\r\n  <el-dialog :title=\"titleFont\" :visible.sync=\"msg\" :before-close=\"handleClose\" class=\"c-uploadDialog\">\r\n    <el-form :model=\"data\" label-width=\"120px\" ref=\"ruleForm\" :rules=\"rules\" class=\"c-myForm\">\r\n\r\n      <el-form-item prop=\"picture\" label=\"商品图片\" >\r\n        <el-upload\r\n          class=\"avatar-uploader\"\r\n          action=\"\"\r\n          :file-list=\"fileList\"\r\n          list-type=\"picture-card\"\r\n          :http-request=\"httpRequest\"\r\n          :on-remove=\"removeFile\"\r\n        ><i class=\"el-icon-plus avatar-uploader-icon\"></i></el-upload>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"商品名称\" prop=\"name\">\r\n        <el-input v-model=\"data.name\" size=\"small\"></el-input>\r\n      </el-form-item>\r\n\r\n    </el-form>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">保存</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\n  import {send, getUri} from '@/utils/oss'\r\n\r\n  export default {\r\n    name: \"recommendForm\",\r\n    data() {\r\n      return {\r\n        autoUpload: false,\r\n        titleFont: this.edata ? '编辑商品':'增加商品',\r\n        data: {\r\n          name: '',\r\n        },\r\n        fileList: [],\r\n        uploadFiles: [],\r\n        rules: {\r\n          name: [{required: true, message: '请输入商品名称', trigger: 'blur'}],\r\n        },\r\n      }\r\n    },\r\n    props: ['msg','shopId','edata'],\r\n    created() {\r\n      if(this.edata) {\r\n          this.data = this.edata;\r\n          getUri(this.edata.picture,key => {\r\n              this.fileList.push({url:key});\r\n          });\r\n      }\r\n    },\r\n    methods: {\r\n      handleClose() {\r\n        this.$emit(\"upList\", 1);\r\n      },\r\n      submitForm() {\r\n          let that = this;\r\n          this.$refs['ruleForm'].validate(valid => {\r\n              if(valid) {\r\n                  if(this.uploadFiles.length){\r\n                    send(this.uploadFiles[0],(key)=> {\r\n                      that.sendAjax(key);\r\n                    });\r\n                  }else {\r\n                    that.sendAjax();\r\n                  }\r\n              }else {\r\n                  this.$message({\r\n                    message:'请检查参数',\r\n                    type:'warning'\r\n                  })\r\n              }\r\n          })\r\n      },\r\n      sendAjax(key){\r\n        let obj = {name:this.data.name , picture: key || this.edata.picture,shopId:this.shopId,id:this.edata ? this.edata.id :null };\r\n        let url = this.edata? '/biz/goods/edit' : '/biz/goods/add';\r\n        let msg = this.edata? '编辑' : '添加';\r\n        this.$xttp.post( url, obj)\r\n          .then(res => {\r\n            if(!res.errorCode) {\r\n              this.$message({\r\n                message:msg + '商品成功',\r\n                type: 'success'\r\n              })\r\n              this.$emit(\"upList\", 2);\r\n            }\r\n          })\r\n      },\r\n      httpRequest(file) {\r\n        this.uploadFiles.push(file.file);\r\n      },\r\n      removeFile(file) {\r\n         this.uploadFiles.splice(0,1);\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .c-myForm {\r\n    .el-select, .el-cascader {\r\n      width: 100%;\r\n    }\r\n    .el-checkbox-group {\r\n      margin-left: -30px;\r\n    }\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/home/nav/businessManage/merchant/recommendForm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:\"c-uploadDialog\",attrs:{\"title\":_vm.titleFont,\"visible\":_vm.msg,\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.msg=$event}}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"c-myForm\",attrs:{\"model\":_vm.data,\"label-width\":\"120px\",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"picture\",\"label\":\"商品图片\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"\",\"file-list\":_vm.fileList,\"list-type\":\"picture-card\",\"http-request\":_vm.httpRequest,\"on-remove\":_vm.removeFile}},[_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"size\":\"small\"},model:{value:(_vm.data.name),callback:function ($$v) {_vm.$set(_vm.data, \"name\", $$v)},expression:\"data.name\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('ruleForm')}}},[_vm._v(\"保存\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4bfe42d2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/home/nav/businessManage/merchant/recommendForm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4bfe42d2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./recommendForm.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./recommendForm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./recommendForm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4bfe42d2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./recommendForm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4bfe42d2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/home/nav/businessManage/merchant/recommendForm.vue\n// module id = null\n// module chunks = ","<template>\r\n  <el-main>\r\n    <div>\r\n      <ul class=\"c-navDetail clear\">\r\n        <!--<el-breadcrumb separator-class=\"el-icon-arrow-right\">-->\r\n          <!--<el-breadcrumb-item  v-for=\"(nav, index) in navDetailData\" :to=\"nav.router\"  :key=\"index\">{{ nav.name }}</el-breadcrumb-item>-->\r\n        <!--</el-breadcrumb>-->\r\n        <li v-for=\"(nav, index) in navDetailData\" :key=\"index\">{{ nav.name }} <span v-if=\"index !== navDetailData.length -  1\"> > </span></li>\r\n      </ul>\r\n      <div class=\"c-search\">\r\n        <el-form :inline=\"true\" :model=\"formInline\" class=\"demo-form-inline\">\r\n\r\n          <!--<el-form-item>-->\r\n            <!--<el-select v-model=\"formInline.status\" @change=\"selStatus\" placeholder=\"全部状态\">-->\r\n              <!--<el-option-->\r\n                <!--v-for=\"item in statusList\"-->\r\n                <!--:key=\"item.id\"-->\r\n                <!--:value=\"item.id\"-->\r\n                <!--:label=\"item.name\">-->\r\n              <!--</el-option>-->\r\n            <!--</el-select>-->\r\n          <!--</el-form-item>-->\r\n\r\n          <el-form-item>\r\n            <el-input v-model=\"formInline.name\" placeholder=\"优惠品名称\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"find\"><i class=\"iconfont icon-sousuo\">&nbsp;</i>查询</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n        <el-button type=\"primary\" class=\"c-addBtn\" @click=\"onSubmit\" >新增商品</el-button>\r\n      </div>\r\n    </div>\r\n\r\n    <el-table class=\"c-table\" :data=\"tableData\" v-loading=\"loading\" element-loading-text=\"加载中...\" border highlight-current-row style=\"width: 100%\">\r\n\r\n      <el-table-column label=\"序号\" width=\"60\" align=\"center\">\r\n        <template slot-scope=\"scope\">{{( currentPage-1) * pageSize + scope.$index + 1}}</template>\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"推荐商品\" min-width=\"100\" align=\"center\" :show-overflow-tooltip=\"true\">\r\n        <template slot-scope=\"scope\"><img :src=\"scope.row.url\" class=\"c-image\"></template>\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"商品名称\" min-width=\"60\" align=\"center\" :show-overflow-tooltip=\"true\">\r\n        <template slot-scope=\"scope\">{{ scope.row.name }}</template>\r\n      </el-table-column>\r\n\r\n      <el-table-column align=\"center\" fixed=\"right\" label=\"操作\" width=\"150\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button @click=\"editHandle(scope.row)\" type=\"warning\" size=\"small\">编辑</el-button>\r\n          <el-button @click=\"delHandle(scope.row)\" type=\"danger\" size=\"small\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n\r\n    </el-table>\r\n    <div class=\"c-block\">\r\n      <el-pagination\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"currentPage\"\r\n        :page-size=\"10\"\r\n        layout=\"total, prev, pager, next, jumper\"\r\n        :total=\"total\">\r\n      </el-pagination>\r\n    </div>\r\n    <transition name=\"fade1\">\r\n      <formPage v-if=\"isShow\" @upList=\"change\" :msg=\"isShow\" :shopId=\"this.$route.query.id\" :edata=\"notice\"></formPage>\r\n    </transition>\r\n    <el-dialog title=\"温馨提示\" :visible.sync=\"visible2\">\r\n      <p>请问您是否确定删除这条数据吗？</p>\r\n      <div style=\"text-align: right; margin: 0\">\r\n        <el-button size=\"mini\" type=\"text\" @click=\"visible2 = false\">取消</el-button>\r\n        <el-button type=\"primary\" size=\"mini\" @click=\"confirmDel\">确定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </el-main>\r\n</template>\r\n\r\n<script>\r\n  import formPage from './recommendForm'\r\n  import { getUri } from '@/utils/oss'\r\n\r\n  export default {\r\n    name: \"merchantList\",\r\n    data() {\r\n      return {\r\n        isSou: false,\r\n        tableData: [],\r\n        navDetailData: [\r\n          { id: 0, name: \"首页\",router:'/home' },\r\n          { id: 1, name: \"商圈管理\" ,router:'/home/nav/businessManage/merchant' },\r\n          { id: 2, name: \"周边商圈\",router:'/home/nav/businessManage/merchant' },\r\n          { id: 3, name: \"推荐商品\" },\r\n        ],\r\n        formInline: {\r\n          name: \"\"\r\n        },\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        loading: false,\r\n        isShow: false, //控制添加页面弹出\r\n        total: 0,//列表总数\r\n        notice:null,//编辑传送的值\r\n        see:false,//控制查看组件弹出\r\n        seeData:null,//查看数据\r\n        visible2:false,\r\n        delData:null,\r\n        statusList:[],//状态列表\r\n      };\r\n    },\r\n    components: {\r\n      formPage,\r\n      // SeePage\r\n    },\r\n    methods: {\r\n      onSubmit() {//添加按钮\r\n        this.notice = null;\r\n        this.isShow = !this.isShow;\r\n      },\r\n      handleCurrentChange(val) {\r\n        if(this.currentPage !== val){\r\n          this.sendAjax(val);\r\n        };\r\n      },\r\n      editHandle(row) {\r\n        //编辑\r\n        this.isShow = true;\r\n        this.notice = row;\r\n      },\r\n      delHandle(row) {\r\n        this.visible2 = true;\r\n        this.delData = row;\r\n      },\r\n      confirmDel(){\r\n        if(this.delData.id){\r\n          this.$xttp.get(`/biz/goods/${this.delData.id}/delete`)\r\n            .then(res=> {\r\n              if(!res.errorCode){\r\n                this.visible2 = false;\r\n                this.delData = null;\r\n                this.$message({message:'删除成功',type:'success'});\r\n                this.find();\r\n              }\r\n            })\r\n        }\r\n      },\r\n      change(msg) {//与添加弹窗交互\r\n        if(msg == 1) {\r\n          this.isShow = false;\r\n        }else if(msg == 2 || msg == 3) {\r\n          this.sendAjax();\r\n          this.isShow = false;\r\n        }\r\n      },\r\n      selStatus() {//选择状态\r\n\r\n      },\r\n      find(){\r\n        this.sendAjax(1);\r\n      },\r\n      sendAjax(page) {\r\n        let nPage = page || this.$route.query.page || 1;\r\n        let obj = {page:nPage,shopId:this.$route.query.id};\r\n        if(this.formInline.name){\r\n          obj.name = this.formInline.name;\r\n        }else {\r\n          delete obj.name ;\r\n        }\r\n        this.loading = true;\r\n        this.$xttp.post(\"/biz/goods/page\",obj)\r\n          .then(res => {\r\n            if (!res.errorCode) {\r\n              this.tableData = res.data.records;\r\n              this.currentPage = res.data.currentPage;\r\n              this.total = res.data.total;\r\n              this.tableData.forEach(function(item) {\r\n                getUri(item.picture,key => {\r\n                      item.url = key;\r\n                  })\r\n              })\r\n            }\r\n            this.loading = false;\r\n          }).catch(err => {\r\n          this.loading = false;\r\n        })\r\n      }\r\n    },\r\n    created() {\r\n      this.sendAjax();\r\n    },\r\n    mounted() {}\r\n  };\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .c-body {\r\n    width: 90%;\r\n    &.c-maxWidth {\r\n      max-width: calc(100vw - 200px);\r\n    }\r\n  }\r\n  .c-image {\r\n    width: 50px;\r\n  }\r\n  .c-navDetail {\r\n    margin-bottom: 10px;\r\n    li {\r\n          float: left;\r\n          margin-right: 10px;\r\n          cursor: pointer;\r\n    }\r\n  }\r\n  .c-block {\r\n    margin-top: 15px;\r\n  }\r\n  .c-search {\r\n    position: relative;\r\n    width: 100%;\r\n    .c-addBtn {\r\n      position: absolute;\r\n      right: 0px;\r\n      top: 0px;\r\n    }\r\n  }\r\n  // 切换动画\r\n  .fade-enter-active, .fade-leave-active {\r\n    transition: all 0.5s ease;\r\n  }\r\n\r\n  .fade-enter, .fade-leave-active {\r\n    opacity: 0;\r\n    transform: rotateY(180deg);\r\n  }\r\n  .fade1-enter-active, .fade1-leave-active {\r\n    transition: all 0.5s ease;\r\n  }\r\n\r\n  .fade1-enter, .fade1-leave-active {\r\n    opacity: 0;\r\n    transform: translateX(-500px);\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/home/nav/businessManage/merchant/recommend.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-main',[_c('div',[_c('ul',{staticClass:\"c-navDetail clear\"},_vm._l((_vm.navDetailData),function(nav,index){return _c('li',{key:index},[_vm._v(_vm._s(nav.name)+\" \"),(index !== _vm.navDetailData.length -  1)?_c('span',[_vm._v(\" > \")]):_vm._e()])})),_vm._v(\" \"),_c('div',{staticClass:\"c-search\"},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.formInline}},[_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"优惠品名称\"},model:{value:(_vm.formInline.name),callback:function ($$v) {_vm.$set(_vm.formInline, \"name\", $$v)},expression:\"formInline.name\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.find}},[_c('i',{staticClass:\"iconfont icon-sousuo\"},[_vm._v(\" \")]),_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('el-button',{staticClass:\"c-addBtn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"新增商品\")])],1)]),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"c-table\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"element-loading-text\":\"加载中...\",\"border\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"width\":\"60\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(( _vm.currentPage-1) * _vm.pageSize + scope.$index + 1))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"推荐商品\",\"min-width\":\"100\",\"align\":\"center\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticClass:\"c-image\",attrs:{\"src\":scope.row.url}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品名称\",\"min-width\":\"60\",\"align\":\"center\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.name))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"small\"},on:{\"click\":function($event){_vm.editHandle(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){_vm.delHandle(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"c-block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":10,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade1\"}},[(_vm.isShow)?_c('formPage',{attrs:{\"msg\":_vm.isShow,\"shopId\":this.$route.query.id,\"edata\":_vm.notice},on:{\"upList\":_vm.change}}):_vm._e()],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"温馨提示\",\"visible\":_vm.visible2},on:{\"update:visible\":function($event){_vm.visible2=$event}}},[_c('p',[_vm._v(\"请问您是否确定删除这条数据吗？\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin\":\"0\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){_vm.visible2 = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.confirmDel}},[_vm._v(\"确定\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-82c7ba58\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/home/nav/businessManage/merchant/recommend.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-82c7ba58\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./recommend.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./recommend.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./recommend.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-82c7ba58\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./recommend.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-82c7ba58\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/home/nav/businessManage/merchant/recommend.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
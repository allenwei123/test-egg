{"version":3,"sources":["webpack:///src/page/home/nav/property_manage/checkIn/checkIn.vue","webpack:///./src/page/home/nav/property_manage/checkIn/checkIn.vue?da96","webpack:///./src/page/home/nav/property_manage/checkIn/checkIn.vue"],"names":["postOptions","checkIn","val","name","format","getTableList","_this","this","communityId","data","_this2","userName","date","params","$xttp","post","then","res","records","currentPage","total","checkIn_checkIn","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","inline","model","formInline","label","type","value-format","placeholder","on","change","changeDate","value","callback","$$v","$set","expression","_v","_l","item","key","trim","click","query","directives","rawName","staticStyle","width","tableData","align","scopedSlots","_u","fn","scope","_s","pageSize","$index","min-width","show-overflow-tooltip","row","getTime","createAt","url","layout","page-size","current-page","current-change","handleCurrentChange","update:currentPage","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/46.fdac3a04e8f9a26088be.js","sourcesContent":["<template>\r\n  <el-container>\r\n    <el-main>\r\n      <div class=\"c-notice-container\">\r\n        <div class=\"c-searchbar\">\r\n          <el-form :inline=\"true\" :model=\"formInline\" class=\"demo-form-inline\">\r\n             <el-form-item label=\"\">\r\n              <el-date-picker\r\n                v-model=\"formInline.date\"\r\n                type=\"date\"\r\n                value-format=\"yyyy-MM-dd\"\r\n                @change=\"changeDate\"\r\n                format=\"yyyy-MM-dd\"\r\n                placeholder=\"\">\r\n              </el-date-picker>\r\n            </el-form-item>\r\n            <el-form-item label=\"作业类型 :\">\r\n              <el-select v-model=\"formInline.taskType\" placeholder=\"请选择作业类型\">\r\n                <el-option v-for=\"item in postOptions\" :key=\"item.key\" :label=\"item.name\" :value=\"item.key\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"员工\">\r\n              <el-input placeholder=\"请输入员工\" type=\"input\" v-model.trim=\"formInline.name\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"query\">查询</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n\r\n        <div class=\"c-list\">\r\n          <el-table :data=\"tableData\" style=\"width:100%\" v-loading=\"loading\">\r\n            <el-table-column label=\"序号\" width=\"80\" align=\"center\">\r\n              <template slot-scope=\"scope\">{{ (currentPage -1) * pageSize + scope.$index + 1 }}</template>\r\n            </el-table-column>\r\n            <el-table-column label=\"员工\" min-width=\"200\" align=\"center\" :show-overflow-tooltip=\"true\">\r\n              <template slot-scope=\"scope\">{{ scope.row.userName }}</template>\r\n            </el-table-column>\r\n            <el-table-column label=\"考勤时间\" min-width=\"200\" align=\"center\" :show-overflow-tooltip=\"true\">\r\n              <template slot-scope=\"scope\">{{getTime(scope.row.createAt, 'yyyy-MM-dd hh:mm')}}</template>\r\n            </el-table-column>\r\n            <el-table-column label=\"凭证\" min-width=\"300\" align=\"center\" :show-overflow-tooltip=\"true\">\r\n              <template slot-scope=\"scope\">{{ scope.row.url }}</template>\r\n            </el-table-column>\r\n            <!-- <el-table-column label=\"操作\" :width=\"columnWidth\" align=\"center\">\r\n               <template slot-scope=\"scope\">\r\n                 <el-button type=\"primary\" size=\"mini\">查看</el-button>\r\n               </template>\r\n            </el-table-column> -->\r\n          </el-table>\r\n        </div>\r\n        <div class=\"c-pagination\">\r\n          <el-pagination\r\n            layout=\"total, prev, pager, next, jumper\" @current-change=\"handleCurrentChange\"\r\n            :total=\"total\" :page-size=\"pageSize\" :current-page.sync=\"currentPage\">\r\n          </el-pagination>\r\n        </div>\r\n      </div>\r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n<script>\r\nconst postOptions = [\r\n  {\r\n    key:'1',\r\n    name: '巡更'\r\n  },\r\n  {\r\n    key: '2',\r\n    name: '保洁'\r\n  }\r\n]\r\nimport time from '@/utils/time.js'\r\nimport { communityId as getCommunityList } from '@/biz/community'\r\nexport default {\r\n  name: \"checkin\",\r\n  data () {\r\n    return {\r\n      columnWidth: '260',\r\n      q_input: null,\r\n      formInline:{\r\n        date: '',\r\n        taskType: '1',\r\n        name: ''\r\n      },\r\n      // postOptions:[],\r\n      postOptions:postOptions,\r\n      value2: '',\r\n      loading: false,\r\n      tableData: [],\r\n      pageSize: 10,\r\n      total: 0,\r\n      currentPage: 1\r\n    }\r\n  },\r\n  methods: {\r\n    handleCurrentChange(val) {\r\n      this.getTableList(val);\r\n    },\r\n    query() {\r\n      this.getTableList(null, this.formInline.name);\r\n    },\r\n    getTime(timestamp, format) {\r\n      if (timestamp == null) return '/';\r\n      return time.timestampToFormat(timestamp, format);\r\n    },\r\n    changeDate(){\r\n      this.getTableList();\r\n    },\r\n    initRole(){\r\n      let communityId = this.$store.getters.communityId\r\n      this.$xttp.get(`/user/property/${communityId}/post-list`).then(res => {\r\n        if(!res.errorCode) {\r\n          this.postOptions = res.data;\r\n        }\r\n      })\r\n    },\r\n    getTableList(page, userName) {\r\n      let nPage = page || this.$route.query.page || 1;\r\n      let params = {page:nPage}\r\n      if(userName){\r\n        //输入的搜索字添加params中\r\n        params.userName = this.formInline.name;\r\n      }else {\r\n        delete params.userName ;\r\n      };\r\n      let communityId = this.$store.getters.communityId;\r\n      let date = this.formInline.date;\r\n      // let taskType = this.formInline.taskType;\r\n      params.communityId = communityId;\r\n      params.startDate = date;\r\n      params.endDate = date;\r\n      // params.taskType = taskType;\r\n      console.log(params);\r\n      let url = '/task/record/page';\r\n      this.loading = true;\r\n      this.$xttp\r\n          .post(url, params)\r\n          .then(res => {\r\n            if(!res.errorCode) {\r\n              console.log(res);\r\n              this.tableData = res.data.records;\r\n              this.currentPage = res.data.currentPage;\r\n              this.total = res.data.total;\r\n              // this.$router.push({path:this.$route.path,query:{page: nPage }})\r\n            }\r\n            this.loading = false;\r\n          })\r\n\r\n    }\r\n  },\r\n  created () {\r\n    // this.initRole();\r\n    this.formInline.date = time.dateFormat(new Date(),'yyyy-MM-dd');\r\n    this.getTableList();\r\n  }\r\n}\r\n</script>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/home/nav/property_manage/checkIn/checkIn.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('el-main',[_c('div',{staticClass:\"c-notice-container\"},[_c('div',{staticClass:\"c-searchbar\"},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.formInline}},[_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\",\"format\":\"yyyy-MM-dd\",\"placeholder\":\"\"},on:{\"change\":_vm.changeDate},model:{value:(_vm.formInline.date),callback:function ($$v) {_vm.$set(_vm.formInline, \"date\", $$v)},expression:\"formInline.date\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"作业类型 :\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择作业类型\"},model:{value:(_vm.formInline.taskType),callback:function ($$v) {_vm.$set(_vm.formInline, \"taskType\", $$v)},expression:\"formInline.taskType\"}},_vm._l((_vm.postOptions),function(item){return _c('el-option',{key:item.key,attrs:{\"label\":item.name,\"value\":item.key}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"员工\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入员工\",\"type\":\"input\"},model:{value:(_vm.formInline.name),callback:function ($$v) {_vm.$set(_vm.formInline, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formInline.name\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.query}},[_vm._v(\"查询\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"c-list\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"width\":\"80\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s((_vm.currentPage -1) * _vm.pageSize + scope.$index + 1))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"员工\",\"min-width\":\"200\",\"align\":\"center\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.userName))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"考勤时间\",\"min-width\":\"200\",\"align\":\"center\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm.getTime(scope.row.createAt, 'yyyy-MM-dd hh:mm')))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"凭证\",\"min-width\":\"300\",\"align\":\"center\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.url))]}}])})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"c-pagination\"},[_c('el-pagination',{attrs:{\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.total,\"page-size\":_vm.pageSize,\"current-page\":_vm.currentPage},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event}}})],1)])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6de9f2cf\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/home/nav/property_manage/checkIn/checkIn.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./checkIn.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./checkIn.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6de9f2cf\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./checkIn.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/home/nav/property_manage/checkIn/checkIn.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}